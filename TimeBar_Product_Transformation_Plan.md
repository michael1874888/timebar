# TimeBar ç”¢å“é‡æ§‹è¨ˆåŠƒ v2.0
## å¾ã€Œè¨ˆç®—æ©Ÿã€åˆ°ã€Œè‡ªç”±è²©è³£æ©Ÿã€

> **æ ¸å¿ƒè½‰è®Š**ï¼šä¸å†æ˜¯ã€Œé€€ä¼‘è¨ˆç®—å™¨ã€ï¼Œè€Œæ˜¯ã€Œç”Ÿå‘½æˆæœ¬è½‰æ›å™¨ã€  
> **ä½¿ç”¨å ´æ™¯è½‰è®Š**ï¼šå¾ã€Œæœˆåº•è¨˜å¸³ã€â†’ã€Œæ¶ˆè²»æ±ºç­–ç•¶ä¸‹ã€  
> **æƒ…ç·’è½‰è®Š**ï¼šå¾ã€Œç„¦æ…®ç”¢ç”Ÿå™¨ã€â†’ã€Œè‡ªç”±è§£é–éŠæˆ²ã€

---

## ğŸ“Š ç”¢å“è¨ºæ–·å ±å‘Š

### ç•¶å‰ç‹€æ…‹åˆ†æ
**ç—‡ç‹€**ï¼šç”¨æˆ¶è¨ˆç®—ä¸€æ¬¡å¾Œå°±ä¸å†å›ä¾†

**æ ¹æœ¬åŸå› **ï¼š
1. âŒ **å›é¥‹å¤ªé™é **ï¼šã€Œ65 æ­²é€€ä¼‘ã€è·é›¢ç¾åœ¨ 20-30 å¹´ï¼Œå¤ªæŠ½è±¡
2. âŒ **ç„¡å³æ™‚çå‹µ**ï¼šçœ $150 åªçœ‹åˆ°ã€Œæå‰ 0.001 æ­²ã€â†’ ç„¡æ„Ÿ
3. âŒ **è² é¢æƒ…ç·’**ï¼šä¸€ç›´æé†’ã€Œä½ é‚„ä¸å¤ åŠªåŠ›ã€â†’ ç„¦æ…® â†’ åˆªé™¤
4. âŒ **ä½¿ç”¨é »ç‡ä½**ï¼šæœˆåº•æ‰è¨˜å¸³ â†’ å®¹æ˜“éºå¿˜

### ç«¶å“åˆ†æ
- **Excel**ï¼šæ›´å¼·å¤§ã€æ›´éˆæ´»
- **å…¶ä»– FIRE è¨ˆç®—å™¨**ï¼šåŠŸèƒ½é¡ä¼¼ï¼Œç„¡å·®ç•°åŒ–

### TimeBar çš„å”¯ä¸€å„ªå‹¢
âœ… **æŠŠé‡‘éŒ¢æ›ç®—æˆæ™‚é–“/ç”Ÿå‘½**  
â†’ é€™æ˜¯æœ€å¼·çš„å¿ƒç†æ­¦å™¨ï¼Œå¿…é ˆæ”¾å¤§ 10 å€ï¼

---

## ğŸ¯ ç”¢å“é‡æ–°å®šä½

### èˆŠå®šä½ï¼ˆè¦æ·˜æ±°ï¼‰
```
TimeBar = é€€ä¼‘å¹´é½¡è¨ˆç®—å™¨
ä½¿ç”¨æ™‚æ©Ÿï¼šæœˆåº•æƒ³çŸ¥é“é€²åº¦æ™‚
æƒ…ç·’ï¼šç„¦æ…®ã€å£“åŠ›
é »ç‡ï¼šæ¯æœˆ 1 æ¬¡
```

### æ–°å®šä½ï¼ˆç›®æ¨™ï¼‰
```
TimeBar = ç”Ÿå‘½æˆæœ¬å³æ™‚è½‰æ›å™¨
ä½¿ç”¨æ™‚æ©Ÿï¼šæ¶ˆè²»å‰æƒ³çŸ¥é“ã€Œé€™å€¼å¤šå°‘ç”Ÿå‘½ã€
æƒ…ç·’ï¼šæŒæ§æ„Ÿã€æˆå°±æ„Ÿ
é »ç‡ï¼šæ¯å¤© 3-5 æ¬¡
```

### æ ¸å¿ƒåƒ¹å€¼ä¸»å¼µ
**ã€Œåœ¨ä½ æéŒ¢ä¹‹å‰ï¼Œå‘Šè¨´ä½ é€™å€‹æ±è¥¿å€¼å¤šå°‘ç”Ÿå‘½ã€**

---

## ğŸ”¥ Phase 0: æ ¸å¿ƒç”¢å“è½‰å‹ï¼ˆå¿…é ˆå®Œæˆï¼‰

> é€™æ˜¯æ•´å€‹é‡æ§‹çš„åŸºçŸ³ã€‚æ²’æœ‰ Phase 0ï¼Œå¾Œé¢çš„éƒ½æ²’æ„ç¾©ã€‚

---

### 0.1 ç”Ÿå‘½æˆæœ¬å³æ™‚è¨ˆç®—å™¨ï¼ˆä¸»ç•«é¢å¾¹åº•æ”¹é€ ï¼‰â­â­â­â­â­

**ç›®æ¨™**ï¼šå¾ã€Œè¨˜å¸³å·¥å…·ã€è®Šæˆã€Œæ¶ˆè²»æ±ºç­–å·¥å…·ã€

#### ä½¿ç”¨å ´æ™¯
```
èˆŠï¼šæ™šä¸Šå›å®¶æƒ³èµ·ä¾†æ‰è¨˜å¸³ â†’ æ‡¶å¾—è¨˜ â†’ æ”¾æ£„
æ–°ï¼šçœ‹åˆ°æƒ³è²·çš„æ±è¥¿ â†’ ç•¶ä¸‹æ‰“é–‹ App â†’ çœ‹åˆ°ç”Ÿå‘½æˆæœ¬ â†’ åšæ±ºå®š
```

#### æŠ€è¡“å¯¦ä½œ

**æª”æ¡ˆä½ç½®**ï¼š`src/components/calculator/LifeCostCalculator.tsx`

```typescript
import { useState, useMemo } from 'react';
import { NumericFormat } from 'react-number-format';
import { FinanceCalc, Formatters } from '@/utils/financeCalc';
import { UserData } from '@/types';

const { formatCurrency } = Formatters;

interface LifeCostCalculatorProps {
  userData: UserData;
  onDecision: (action: 'buy' | 'save', amount: number) => void;
}

export function LifeCostCalculator({ userData, onDecision }: LifeCostCalculatorProps) {
  const [amount, setAmount] = useState<number>(0);
  const [itemName, setItemName] = useState<string>('');

  // è¨ˆç®—åƒæ•¸
  const { salary, age, retireAge, inflationRate, roiRate } = userData;
  const hourlyRate = FinanceCalc.hourlyRate(salary);
  const realRate = FinanceCalc.realRate(inflationRate, roiRate);
  const yearsToRetire = retireAge - age;

  // æ ¸å¿ƒè¨ˆç®— 1ï¼šé€™ç­†éŒ¢ = å¤šå°‘å·¥ä½œæ™‚é–“
  const workTime = useMemo(() => {
    const hoursLost = amount / hourlyRate;
    const days = Math.floor(hoursLost / 8);
    const hours = Math.floor(hoursLost % 8);
    const minutes = Math.round((hoursLost % 1) * 60);
    
    return { days, hours, minutes, totalHours: hoursLost };
  }, [amount, hourlyRate]);

  // æ ¸å¿ƒè¨ˆç®— 2ï¼šé€™ç­†éŒ¢æœƒæ¨é²å¤šå°‘é€€ä¼‘æ—¥æœŸ
  const retirementImpact = useMemo(() => {
    const timeCost = FinanceCalc.calculateTimeCost(
      amount,
      false,
      hourlyRate,
      realRate,
      yearsToRetire
    );
    const daysLost = timeCost / 24;
    return {
      days: Math.floor(daysLost),
      hours: Math.round((daysLost % 1) * 24)
    };
  }, [amount, hourlyRate, realRate, yearsToRetire]);

  // ç”Ÿå‹•çš„æ¯”å–»
  const lifeEquivalent = useMemo(() => {
    const hours = workTime.totalHours;
    
    if (hours < 0.5) return 'çœ‹ä¸€é›† YouTube å½±ç‰‡çš„æ™‚é–“';
    if (hours < 1) return 'å–ä¸€æ¯å’–å•¡çš„æ™‚é–“';
    if (hours < 2) return 'ä¸€å ´é›»å½±çš„æ™‚é–“';
    if (hours < 4) return 'åŠå¤©çš„ä¸Šç­æ™‚é–“';
    if (hours < 8) return 'ä¸€å€‹ä¸Šåˆçš„æœƒè­°æ™‚é–“';
    if (hours < 24) return 'æ•´æ•´ä¸€å€‹å·¥ä½œå¤©';
    if (hours < 40) return `${workTime.days} å€‹å·¥ä½œå¤©`;
    
    const weeks = Math.floor(hours / 40);
    const months = Math.floor(weeks / 4);
    
    if (months > 0) {
      return `${months} å€‹æœˆçš„è–ªæ°´ï¼ˆ${weeks} é€±çš„è¾›è‹¦å·¥ä½œï¼‰`;
    }
    return `${weeks} é€±çš„è¾›è‹¦å·¥ä½œ`;
  }, [workTime]);

  return (
    <div className="min-h-screen bg-gradient-to-b from-gray-900 via-gray-900 to-gray-800">
      {/* é ­éƒ¨æ¨™é¡Œ */}
      <div className="text-center pt-8 pb-6 px-4">
        <h1 className="text-4xl font-black text-white mb-3">
          é€™å€‹æ±è¥¿å€¼å¤šå°‘
          <span className="text-orange-400">ç”Ÿå‘½</span>
          ï¼Ÿ
        </h1>
        <p className="text-gray-400 text-sm">
          åœ¨æéŒ¢ä¹‹å‰ï¼Œå…ˆå•å•è‡ªå·±
        </p>
      </div>

      {/* é‡‘é¡è¼¸å…¥å€ */}
      <div className="px-4 mb-6">
        <div className="bg-gray-800/60 backdrop-blur rounded-3xl p-6 border-2 border-orange-500/30 shadow-xl">
          {/* ç‰©å“åç¨±ï¼ˆé¸å¡«ï¼‰ */}
          <div className="mb-4">
            <input
              type="text"
              placeholder="æƒ³è²·ä»€éº¼ï¼Ÿï¼ˆé¸å¡«ï¼‰"
              value={itemName}
              onChange={(e) => setItemName(e.target.value)}
              className="w-full bg-gray-700/50 text-white placeholder-gray-500 px-4 py-3 rounded-xl border border-gray-600 focus:border-orange-500 focus:outline-none"
            />
          </div>

          {/* é‡‘é¡è¼¸å…¥ */}
          <div className="text-center mb-4">
            <div className="text-gray-400 text-sm mb-2">
              {itemName || 'é€™å€‹æ±è¥¿'}è¦èŠ±
            </div>
            <NumericFormat
              value={amount || ''}
              onValueChange={(values) => setAmount(values.floatValue || 0)}
              thousandSeparator=","
              prefix="NT$ "
              placeholder="NT$ 0"
              className="text-5xl font-black text-center bg-transparent text-white w-full outline-none"
            />
          </div>

          {/* å¿«é€Ÿé‡‘é¡æŒ‰éˆ• */}
          <div className="flex gap-2 justify-center flex-wrap">
            {[100, 150, 500, 1000, 1500, 5000, 10000, 36000].map((v) => (
              <button
                key={v}
                onClick={() => setAmount(v)}
                className={`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${
                  amount === v
                    ? 'bg-orange-500 text-gray-900'
                    : 'bg-gray-700 text-gray-300 hover:bg-gray-600'
                }`}
              >
                {v >= 1000 ? `${v / 1000}k` : v}
              </button>
            ))}
          </div>
        </div>
      </div>

      {/* ç”Ÿå‘½æˆæœ¬é¡¯ç¤ºï¼ˆåªåœ¨è¼¸å…¥é‡‘é¡å¾Œé¡¯ç¤ºï¼‰ */}
      {amount > 0 && (
        <div className="px-4 pb-24 animate-slide-up">
          {/* æ ¸å¿ƒéœ‡æ’¼ï¼šå·¥ä½œæ™‚é–“æˆæœ¬ */}
          <div className="bg-orange-500/10 border-2 border-orange-500 rounded-3xl p-6 mb-4 shadow-xl">
            <div className="text-center">
              <div className="text-orange-400 text-sm font-medium mb-3">
                âš ï¸ ç”Ÿå‘½æˆæœ¬
              </div>
              <div className="text-white text-5xl font-black mb-3">
                {workTime.days > 0 && <>{workTime.days} å¤©</>}
                {workTime.days > 0 && (workTime.hours > 0 || workTime.minutes > 0) && <> </>}
                {workTime.hours > 0 && <>{workTime.hours} å°æ™‚</>}
                {workTime.hours > 0 && workTime.minutes > 0 && <> </>}
                {workTime.minutes > 0 && workTime.days === 0 && <>{workTime.minutes} åˆ†</>}
              </div>
              <div className="text-gray-300 text-base">
                ä½ éœ€è¦ç‚º{itemName || 'é€™å€‹æ±è¥¿'}å·¥ä½œé€™éº¼ä¹…
              </div>
            </div>
          </div>

          {/* é€€ä¼‘å½±éŸ¿ */}
          <div className="bg-red-900/20 border border-red-500/30 rounded-2xl p-5 mb-4">
            <div className="flex items-start gap-3">
              <div className="text-4xl">ğŸ’€</div>
              <div className="flex-1">
                <div className="text-red-400 font-bold text-lg mb-2">
                  é€™æœƒæ¨é²ä½ çš„é€€ä¼‘
                </div>
                <div className="text-white text-3xl font-black mb-1">
                  {retirementImpact.days} å¤©
                  {retirementImpact.hours > 0 && <> {retirementImpact.hours} å°æ™‚</>}
                </div>
                <div className="text-gray-400 text-sm">
                  åŸæœ¬ {retireAge} æ­²é€€ä¼‘ï¼Œç¾åœ¨è¦åˆ°{' '}
                  {(retireAge + (retirementImpact.days + retirementImpact.hours / 24) / 365).toFixed(2)} æ­²
                </div>
              </div>
            </div>
          </div>

          {/* ç”Ÿå‹•æ¯”å–» */}
          <div className="bg-gray-800/60 backdrop-blur rounded-2xl p-4 mb-6 border border-gray-700">
            <div className="flex items-start gap-2">
              <div className="text-2xl">ğŸ’­</div>
              <div className="flex-1">
                <div className="text-gray-400 text-xs mb-1">é€™ç›¸ç•¶æ–¼...</div>
                <div className="text-gray-200 text-sm font-medium">
                  {lifeEquivalent}
                </div>
              </div>
            </div>
          </div>

          {/* è¡Œå‹•æŒ‰éˆ• */}
          <div className="grid grid-cols-2 gap-4">
            <button
              onClick={() => {
                onDecision('buy', amount);
                setAmount(0);
                setItemName('');
              }}
              className="bg-gray-700 hover:bg-gray-600 text-white py-4 px-6 rounded-2xl font-bold text-lg transition-all active:scale-95"
            >
              <div>é‚„æ˜¯è¦è²·</div>
              <div className="text-sm text-gray-400 mt-1">ğŸ˜”</div>
            </button>
            <button
              onClick={() => {
                onDecision('save', amount);
                setAmount(0);
                setItemName('');
              }}
              className="bg-emerald-500 hover:bg-emerald-400 text-gray-900 py-4 px-6 rounded-2xl font-bold text-lg transition-all active:scale-95 shadow-lg shadow-emerald-500/25"
            >
              <div>æˆ‘ä¸è²·äº†ï¼</div>
              <div className="text-sm text-emerald-700 mt-1">ğŸ‰</div>
            </button>
          </div>

          {/* æç¤ºæ–‡å­— */}
          <div className="text-center mt-6">
            <p className="text-gray-500 text-sm">
              æ¯ä¸€æ¬¡å¿ä½ï¼Œéƒ½æ˜¯åœ¨è²·å›è‡ªå·±çš„è‡ªç”±
            </p>
          </div>
        </div>
      )}

      {/* ç©ºç‹€æ…‹æç¤º */}
      {amount === 0 && (
        <div className="px-4 text-center">
          <div className="text-gray-600 text-sm">
            <div className="text-4xl mb-3">ğŸ¤”</div>
            <div>è¼¸å…¥æƒ³è²·çš„æ±è¥¿çš„åƒ¹æ ¼</div>
            <div className="mt-2">çœ‹çœ‹å®ƒå€¼å¤šå°‘ç”Ÿå‘½</div>
          </div>
        </div>
      )}
    </div>
  );
}
```

#### é—œéµè¨­è¨ˆæ±ºç­–

1. **é‡‘é¡ç‚º 0 æ™‚ä¸é¡¯ç¤ºè¨ˆç®—çµæœ**
   - é¿å…è³‡è¨Šéè¼‰
   - è®“ç”¨æˆ¶å°ˆæ³¨æ–¼è¼¸å…¥

2. **å…©ç¨®æˆæœ¬åŒæ™‚é¡¯ç¤º**
   - å·¥ä½œæ™‚é–“ï¼ˆæ›´ç›´è§€ï¼‰
   - é€€ä¼‘å½±éŸ¿ï¼ˆé•·æœŸåƒ¹å€¼ï¼‰

3. **ç”Ÿå‹•æ¯”å–»**
   - æŠŠæŠ½è±¡æ™‚é–“å…·è±¡åŒ–
   - ã€Œ1 å€‹æœˆè–ªæ°´ã€æ¯”ã€Œ176 å°æ™‚ã€æ›´æœ‰æ„Ÿ

4. **æ±ºç­–æŒ‰éˆ•å°æ¯”å¼·çƒˆ**
   - å·¦ï¼šç°è‰²ï¼ˆè²·ï¼‰â†’ è² é¢
   - å³ï¼šç¶ è‰²ï¼ˆä¸è²·ï¼‰â†’ æ­£é¢
   - è¦–è¦ºå¼•å°æ­£ç¢ºæ±ºç­–

**é ä¼°å·¥æ™‚**ï¼š12 å°æ™‚  
**å„ªå…ˆç´š**ï¼šP0ï¼ˆæœ€é«˜ï¼‰

---

### 0.2 å¾®å‹é‡Œç¨‹ç¢‘ç³»çµ±ï¼ˆè§£é–è‡ªç”±æ—¥ï¼‰â­â­â­â­â­

**ç›®æ¨™**ï¼šæŠŠé™é çš„ã€Œ65 æ­²é€€ä¼‘ã€æ‹†è§£æˆå¯è¦‹çš„å°ç›®æ¨™

#### å¿ƒç†å­¸åŸç†
```
20 å¹´å¤ªé  â†’ çœ‹ä¸åˆ°ç›¡é ­ â†’ æ”¾æ£„
è§£é–é€±ä¸€ â†’ 7 å¤©å°±èƒ½é”æˆ â†’ æœ‰å‹•åŠ›
```

#### æŠ€è¡“å¯¦ä½œ

**æª”æ¡ˆä½ç½®**ï¼š`src/components/freedom/FreedomTracker.tsx`

```typescript
import { useMemo } from 'react';
import { FinanceCalc, Formatters } from '@/utils/financeCalc';
import { UserData } from '@/types';

const { formatCurrency } = Formatters;

interface FreedomTrackerProps {
  userData: UserData;
  totalSaved: number;
}

export function FreedomTracker({ userData, totalSaved }: FreedomTrackerProps) {
  const { salary, age, retireAge, inflationRate, roiRate } = userData;
  const hourlyRate = FinanceCalc.hourlyRate(salary);
  const realRate = FinanceCalc.realRate(inflationRate, roiRate);
  const yearsToRetire = retireAge - age;

  // è¨ˆç®—å·²è²·å›å¤šå°‘è‡ªç”±å¤©æ•¸
  const freedomDays = useMemo(() => {
    if (totalSaved === 0) return 0;
    
    // é€™ç­†å„²è“„åœ¨é€€ä¼‘æ™‚çš„è¤‡åˆ©åƒ¹å€¼
    const futureValue = totalSaved * Math.pow(1 + realRate, yearsToRetire);
    
    // è½‰æ›æˆå·¥ä½œå°æ™‚
    const freedomHours = futureValue / hourlyRate;
    
    // è½‰æ›æˆå¤©æ•¸ï¼ˆ8 å°æ™‚å·¥ä½œæ—¥ï¼‰
    return Math.floor(freedomHours / 8);
  }, [totalSaved, hourlyRate, realRate, yearsToRetire]);

  // é‡Œç¨‹ç¢‘å®šç¾©
  const milestones = [
    {
      id: 'monday',
      days: 1,
      title: 'è‡ªç”±æ˜ŸæœŸä¸€',
      icon: 'ğŸ‰',
      description: 'ä½ å·²ç¶“å­˜å¤ ä¸€å¤©ä¸ç”¨å·¥ä½œçš„éŒ¢äº†ï¼',
      color: 'emerald'
    },
    {
      id: 'weekend',
      days: 7,
      title: 'è‡ªç”±ä¸€é€±',
      icon: 'ğŸ–ï¸',
      description: 'å¯ä»¥å‡ºå»ç©ä¸€æ•´é€±äº†ï¼',
      color: 'blue'
    },
    {
      id: 'coffee',
      days: 30,
      title: 'å’–å•¡è‡ªç”±',
      icon: 'â˜•',
      description: 'è¢«å‹•æ”¶å…¥å¯æ”¯ä»˜æ¯å¤©ä¸€æ¯å’–å•¡',
      color: 'amber'
    },
    {
      id: 'month',
      days: 90,
      title: 'å­£åº¦å‡æœŸè‡ªç”±',
      icon: 'âœˆï¸',
      description: 'æ¯å­£å¯ä»¥å‡ºåœ‹æ—…éŠä¸€æ¬¡',
      color: 'purple'
    },
    {
      id: 'year',
      days: 365,
      title: 'å¹´åº¦è‡ªç”±',
      icon: 'ğŸŠ',
      description: 'æ•´æ•´ä¸€å¹´ä¸ç”¨å·¥ä½œï¼',
      color: 'pink'
    },
    {
      id: 'five-years',
      days: 1825,
      title: 'äº”å¹´è‡ªç”±',
      icon: 'ğŸš€',
      description: 'å¯ä»¥ç’°éŠä¸–ç•Œäº”å¹´',
      color: 'red'
    }
  ];

  // æ‰¾å‡ºç•¶å‰é€²åº¦
  const unlockedMilestones = milestones.filter(m => m.days <= freedomDays);
  const nextMilestone = milestones.find(m => m.days > freedomDays) || milestones[milestones.length - 1];
  const progress = nextMilestone ? (freedomDays / nextMilestone.days) * 100 : 100;
  const daysToNext = nextMilestone ? nextMilestone.days - freedomDays : 0;

  // è¨ˆç®—é‚„éœ€è¦å­˜å¤šå°‘éŒ¢æ‰èƒ½è§£é–ä¸‹ä¸€å€‹
  const amountToNext = useMemo(() => {
    if (!nextMilestone) return 0;
    
    const targetHours = daysToNext * 8;
    const targetFutureValue = targetHours * hourlyRate;
    const presentValue = targetFutureValue / Math.pow(1 + realRate, yearsToRetire);
    
    return Math.max(0, Math.round(presentValue));
  }, [nextMilestone, daysToNext, hourlyRate, realRate, yearsToRetire]);

  return (
    <div className="space-y-4">
      {/* ç•¶å‰æˆå°±å¡ç‰‡ */}
      <div className="bg-gradient-to-br from-emerald-900/40 via-emerald-800/30 to-emerald-900/40 rounded-3xl p-6 border border-emerald-500/30">
        <div className="text-center mb-6">
          <div className="text-emerald-400 text-sm font-medium mb-2">
            ğŸ† ä½ å·²ç¶“è²·å›
          </div>
          <div className="text-white text-6xl font-black mb-2">
            {freedomDays}
          </div>
          <div className="text-emerald-300 text-lg">
            å¤©è‡ªç”±æ™‚å…‰
          </div>
        </div>

        {/* å·²è§£é–æˆå°± */}
        {unlockedMilestones.length > 0 && (
          <div className="mb-6">
            <div className="text-emerald-400 text-xs font-medium mb-3">
              âœ“ å·²è§£é–æˆå°±
            </div>
            <div className="space-y-2">
              {unlockedMilestones.slice(-3).reverse().map((milestone) => (
                <div
                  key={milestone.id}
                  className="flex items-center gap-3 bg-emerald-500/10 rounded-xl p-3"
                >
                  <div className="text-2xl">{milestone.icon}</div>
                  <div className="flex-1">
                    <div className="text-emerald-300 font-bold text-sm">
                      {milestone.title}
                    </div>
                    <div className="text-emerald-400/70 text-xs">
                      {milestone.description}
                    </div>
                  </div>
                  <div className="text-emerald-400 text-xl">âœ“</div>
                </div>
              ))}
            </div>
            {unlockedMilestones.length > 3 && (
              <div className="text-emerald-400/50 text-xs text-center mt-2">
                é‚„æœ‰ {unlockedMilestones.length - 3} å€‹æˆå°±
              </div>
            )}
          </div>
        )}

        {/* ä¸‹ä¸€å€‹é‡Œç¨‹ç¢‘ */}
        {nextMilestone && (
          <div>
            <div className="text-gray-400 text-xs font-medium mb-3">
              ğŸ¯ ä¸‹ä¸€å€‹ç›®æ¨™
            </div>
            <div className="bg-gray-900/60 rounded-2xl p-4 border border-gray-700">
              <div className="flex items-center justify-between mb-3">
                <div className="flex items-center gap-2">
                  <div className="text-3xl">{nextMilestone.icon}</div>
                  <div>
                    <div className="text-white font-bold">
                      {nextMilestone.title}
                    </div>
                    <div className="text-gray-400 text-xs">
                      {nextMilestone.description}
                    </div>
                  </div>
                </div>
                <div className="text-right">
                  <div className="text-emerald-400 text-sm font-bold">
                    é‚„å·® {daysToNext} å¤©
                  </div>
                </div>
              </div>

              {/* é€²åº¦æ¢ */}
              <div className="relative">
                <div className="h-3 bg-gray-800 rounded-full overflow-hidden">
                  <div
                    className="h-full bg-gradient-to-r from-emerald-600 to-emerald-400 transition-all duration-500"
                    style={{ width: `${Math.min(progress, 100)}%` }}
                  />
                </div>
                <div className="text-gray-500 text-xs mt-1 text-right">
                  {Math.min(Math.round(progress), 100)}%
                </div>
              </div>

              {/* æç¤º */}
              <div className="mt-3 text-center">
                <div className="text-gray-400 text-xs">
                  å†å­˜ {formatCurrency(amountToNext)} å°±èƒ½è§£é–
                </div>
              </div>
            </div>
          </div>
        )}
      </div>

      {/* æ‰€æœ‰é‡Œç¨‹ç¢‘åˆ—è¡¨ï¼ˆæ”¶åˆå¼ï¼‰ */}
      <details className="bg-gray-800/40 rounded-2xl overflow-hidden">
        <summary className="px-4 py-3 cursor-pointer text-gray-400 text-sm hover:text-gray-300">
          æŸ¥çœ‹æ‰€æœ‰é‡Œç¨‹ç¢‘ â†’
        </summary>
        <div className="px-4 pb-4 space-y-2">
          {milestones.map((milestone) => {
            const isUnlocked = milestone.days <= freedomDays;
            const isCurrent = milestone.id === nextMilestone?.id;

            return (
              <div
                key={milestone.id}
                className={`flex items-center gap-3 p-3 rounded-xl ${
                  isUnlocked
                    ? 'bg-emerald-500/10 border border-emerald-500/30'
                    : isCurrent
                    ? 'bg-orange-500/10 border border-orange-500/30'
                    : 'bg-gray-700/30 border border-gray-600/30'
                }`}
              >
                <div className="text-2xl">{milestone.icon}</div>
                <div className="flex-1">
                  <div
                    className={`font-bold text-sm ${
                      isUnlocked
                        ? 'text-emerald-300'
                        : isCurrent
                        ? 'text-orange-300'
                        : 'text-gray-400'
                    }`}
                  >
                    {milestone.title}
                  </div>
                  <div
                    className={`text-xs ${
                      isUnlocked
                        ? 'text-emerald-400/70'
                        : isCurrent
                        ? 'text-orange-400/70'
                        : 'text-gray-500'
                    }`}
                  >
                    {milestone.days} å¤©
                  </div>
                </div>
                {isUnlocked && (
                  <div className="text-emerald-400 text-xl">âœ“</div>
                )}
                {isCurrent && (
                  <div className="text-orange-400 text-sm font-bold">
                    é€²è¡Œä¸­
                  </div>
                )}
              </div>
            );
          })}
        </div>
      </details>
    </div>
  );
}
```

**é ä¼°å·¥æ™‚**ï¼š10 å°æ™‚  
**å„ªå…ˆç´š**ï¼šP0

---

### 0.3 ç”Ÿå‘½é›»æ± è¦–è¦ºåŒ– â­â­â­â­â­

**ç›®æ¨™**ï¼šæŠŠä¸€ç”Ÿçš„æ™‚é–“è¦–è¦ºåŒ–ï¼Œçœ‹åˆ°ç´…è‰²ç¸®çŸ­çš„ç™‚ç™’æ„Ÿ

#### æŠ€è¡“å¯¦ä½œ

**æª”æ¡ˆä½ç½®**ï¼š`src/components/visualization/LifeBattery.tsx`

```typescript
import { useMemo } from 'react';
import { GPSCalc } from '@/utils/financeCalc';
import { UserData, Record as RecordType } from '@/types';

interface LifeBatteryProps {
  userData: UserData;
  records: RecordType[];
}

export function LifeBattery({ userData, records }: LifeBatteryProps) {
  const { age, retireAge } = userData;
  const lifeExpectancy = 85; // é æœŸå£½å‘½

  // ä½¿ç”¨ GPS è¨ˆç®—å¯¦éš›é ä¼°é€€ä¼‘å¹´é½¡
  const { estimatedAge } = useMemo(() => 
    GPSCalc.calculateEstimatedAge(retireAge, records),
    [retireAge, records]
  );

  // è¨ˆç®—å„éšæ®µå¹´æ•¸
  const stages = useMemo(() => {
    const workingStart = 22; // é–‹å§‹å·¥ä½œå¹´é½¡
    const livedYears = age - workingStart;
    const workYearsLeft = Math.max(0, estimatedAge - age);
    const freeYears = Math.max(0, lifeExpectancy - estimatedAge);
    const totalYears = lifeExpectancy - workingStart;

    return {
      lived: livedYears,
      work: workYearsLeft,
      free: freeYears,
      total: totalYears,
      // ç™¾åˆ†æ¯”
      livedPercent: (livedYears / totalYears) * 100,
      workPercent: (workYearsLeft / totalYears) * 100,
      freePercent: (freeYears / totalYears) * 100
    };
  }, [age, estimatedAge, lifeExpectancy]);

  // å‹•æ…‹è¨Šæ¯
  const message = useMemo(() => {
    if (estimatedAge < retireAge) {
      const savedYears = retireAge - estimatedAge;
      return {
        text: `å¤ªæ£’äº†ï¼ä½ æå‰äº† ${savedYears.toFixed(1)} å¹´`,
        emoji: 'ğŸ‰',
        color: 'emerald'
      };
    } else if (estimatedAge > retireAge) {
      const delayedYears = estimatedAge - retireAge;
      return {
        text: `é‚„éœ€åŠªåŠ› ${delayedYears.toFixed(1)} å¹´`,
        emoji: 'ğŸ’ª',
        color: 'orange'
      };
    } else {
      return {
        text: 'å®Œç¾ï¼æ­£æŒ‰è¨ˆç•«é€²è¡Œ',
        emoji: 'âœ“',
        color: 'blue'
      };
    }
  }, [estimatedAge, retireAge]);

  return (
    <div className="bg-gray-800/60 backdrop-blur rounded-3xl p-6 border border-gray-700">
      <div className="text-center mb-6">
        <h3 className="text-white text-xl font-bold mb-2">
          ä½ çš„ç”Ÿå‘½é›»é‡
        </h3>
        <p className="text-gray-400 text-sm">
          ç° = å·²éå» | ç´… = è¦å·¥ä½œ | ç¶  = è‡ªç”±æ™‚å…‰
        </p>
      </div>

      {/* é›»æ± è¦–è¦ºåŒ– */}
      <div className="relative mb-6">
        {/* é›»æ± å¤–æ¡† */}
        <div className="h-24 rounded-2xl border-4 border-gray-600 overflow-hidden relative bg-gray-800">
          {/* å·²éå»çš„æ™‚é–“ï¼ˆç°è‰²ï¼‰ */}
          <div
            className="absolute h-full bg-gradient-to-r from-gray-700 to-gray-600 transition-all duration-700"
            style={{ width: `${stages.livedPercent}%`, left: 0 }}
          >
            <div className="flex items-center justify-center h-full text-gray-400 font-bold text-sm">
              {stages.lived > 5 && `${stages.lived} å¹´`}
            </div>
          </div>

          {/* é‚„è¦å·¥ä½œçš„æ™‚é–“ï¼ˆç´…è‰²ï¼‰ */}
          <div
            className="absolute h-full bg-gradient-to-r from-red-600 via-red-500 to-red-600 transition-all duration-700 animate-pulse-slow"
            style={{
              width: `${stages.workPercent}%`,
              left: `${stages.livedPercent}%`
            }}
          >
            <div className="flex items-center justify-center h-full text-white font-bold text-sm">
              {stages.work > 5 && (
                <>
                  âš ï¸ {stages.work.toFixed(1)} å¹´
                </>
              )}
            </div>
          </div>

          {/* è‡ªç”±æ™‚é–“ï¼ˆç¶ è‰²ï¼‰ */}
          <div
            className="absolute h-full bg-gradient-to-r from-emerald-500 via-emerald-400 to-emerald-500 transition-all duration-700"
            style={{
              width: `${stages.freePercent}%`,
              right: 0
            }}
          >
            <div className="flex items-center justify-center h-full text-gray-900 font-bold text-sm">
              {stages.free > 5 && (
                <>
                  âœ¨ {stages.free.toFixed(1)} å¹´
                </>
              )}
            </div>
          </div>
        </div>

        {/* é›»æ± é ­ï¼ˆè£é£¾ï¼‰ */}
        <div className="absolute -right-3 top-1/2 -translate-y-1/2 w-2 h-10 bg-gray-600 rounded-r" />

        {/* é›»é‡ç™¾åˆ†æ¯”é¡¯ç¤º */}
        <div className="absolute -top-8 right-0 text-emerald-400 text-sm font-bold">
          âš¡ {Math.round(stages.freePercent)}% è‡ªç”±
        </div>
      </div>

      {/* æ•¸æ“šåœ–ä¾‹ */}
      <div className="grid grid-cols-3 gap-3 mb-4">
        <div className="text-center p-3 bg-gray-700/30 rounded-xl">
          <div className="flex items-center justify-center gap-1 mb-1">
            <div className="w-3 h-3 bg-gray-600 rounded" />
            <div className="text-gray-500 text-xs">å·²éå»</div>
          </div>
          <div className="text-white font-bold">{stages.lived} å¹´</div>
        </div>
        <div className="text-center p-3 bg-red-500/10 rounded-xl border border-red-500/30">
          <div className="flex items-center justify-center gap-1 mb-1">
            <div className="w-3 h-3 bg-red-500 rounded animate-pulse" />
            <div className="text-red-400 text-xs">è¦å·¥ä½œ</div>
          </div>
          <div className="text-red-400 font-bold">
            {stages.work.toFixed(1)} å¹´
          </div>
        </div>
        <div className="text-center p-3 bg-emerald-500/10 rounded-xl border border-emerald-500/30">
          <div className="flex items-center justify-center gap-1 mb-1">
            <div className="w-3 h-3 bg-emerald-500 rounded" />
            <div className="text-emerald-400 text-xs">è‡ªç”±</div>
          </div>
          <div className="text-emerald-400 font-bold">
            {stages.free.toFixed(1)} å¹´
          </div>
        </div>
      </div>

      {/* å‹•æ…‹è¨Šæ¯ */}
      <div
        className={`text-center p-4 rounded-xl ${
          message.color === 'emerald'
            ? 'bg-emerald-500/10 border border-emerald-500/30'
            : message.color === 'orange'
            ? 'bg-orange-500/10 border border-orange-500/30'
            : 'bg-blue-500/10 border border-blue-500/30'
        }`}
      >
        <div
          className={`font-bold text-sm ${
            message.color === 'emerald'
              ? 'text-emerald-400'
              : message.color === 'orange'
              ? 'text-orange-400'
              : 'text-blue-400'
          }`}
        >
          {message.emoji} {message.text}
        </div>
      </div>

      {/* æç¤ºæ–‡å­— */}
      <div className="mt-4 text-center text-gray-500 text-xs">
        æ¯æ¬¡å„²è“„éƒ½åœ¨ç¸®çŸ­ç´…è‰²å€åŸŸï¼Œæ“´å¤§ç¶ è‰²å€åŸŸ
      </div>
    </div>
  );
}
```

**è¦–è¦ºæ•ˆæœ**ï¼š
- å‹•ç•«éæ¸¡ï¼šå€å¡Šè®ŠåŒ–æ™‚æœ‰ 0.7 ç§’çš„ smooth transition
- ç´…è‰²å€å¡Šå¾®è„ˆå‹•ï¼šæé†’é€™æ˜¯ã€Œé‚„è¦å·¥ä½œã€çš„æ™‚é–“
- æ•¸å­—åªåœ¨å€å¡Šå¤ å¤§æ™‚æ‰é¡¯ç¤ºï¼ˆé¿å…æ“æ“ ï¼‰

**é ä¼°å·¥æ™‚**ï¼š8 å°æ™‚  
**å„ªå…ˆç´š**ï¼šP0

---

### 0.4 ä¸»ç•«é¢æ¶æ§‹é‡çµ„ â­â­â­â­

**ç›®æ¨™**ï¼šæ•´åˆæ–°å…ƒä»¶ï¼Œå½¢æˆå®Œæ•´çš„ã€Œè‡ªç”±è²©è³£æ©Ÿã€é«”é©—

#### App.tsx æ”¹å‹•

```typescript
// src/components/App.tsx
import { useState, useEffect } from 'react';
import { OnboardingScreen } from './onboarding/OnboardingScreen';
import { LifeCostCalculator } from './calculator/LifeCostCalculator';
import { FreedomTracker } from './freedom/FreedomTracker';
import { LifeBattery } from './visualization/LifeBattery';
import { HistoryPage } from './history/HistoryPage';
import { SettingsPage } from './settings/SettingsPage';
import { CelebrationSystem } from './feedback/CelebrationSystem';
import { GoogleSheetsAPI } from '@/services/googleSheets';
import { Storage } from '@/utils/storage';
import { GPSCalc } from '@/utils/financeCalc';
import { UserData, Record as RecordType, Screen } from '@/types';

export default function App() {
  const [screen, setScreen] = useState<Screen>('loading');
  const [userData, setUserData] = useState<UserData | null>(null);
  const [records, setRecords] = useState<RecordType[]>([]);
  const [showCelebration, setShowCelebration] = useState(false);
  const [lastSavedAmount, setLastSavedAmount] = useState(0);

  // ... è¼‰å…¥é‚è¼¯ä¿æŒä¸è®Š

  // è™•ç†æ±ºç­–ï¼ˆè²· or ä¸è²·ï¼‰
  const handleDecision = async (action: 'buy' | 'save', amount: number) => {
    if (!userData) return;

    const record: RecordType = {
      id: Date.now().toString(),
      type: action === 'save' ? 'save' : 'spend',
      amount,
      isRecurring: false,
      timeCost: 0, // é€™è£¡å¯ä»¥è¨ˆç®—ï¼Œä½†ä¸æ˜¯å¿…é ˆ
      category: action === 'save' ? 'ä¸»å‹•å„²è“„' : 'æ¶ˆè²»',
      note: '',
      timestamp: new Date().toISOString(),
      date: new Date().toISOString().split('T')[0]
    };

    setRecords((prev) => [record, ...prev]);

    try {
      await GoogleSheetsAPI.saveRecord(record);
    } catch (error) {
      console.error('Failed to save record:', error);
    }

    // åªæœ‰ã€Œä¸è²·ã€æ‰è§¸ç™¼æ…¶ç¥
    if (action === 'save') {
      setLastSavedAmount(amount);
      setShowCelebration(true);
      setTimeout(() => setShowCelebration(false), 3000);
    }
  };

  // è¨ˆç®—ç´¯ç©æ•¸æ“š
  const { totalSaved, totalSpent } = GPSCalc.calculateTotals(records);

  if (screen === 'loading') {
    return <LoadingScreen />;
  }

  return (
    <div>
      {/* æ…¶ç¥ç³»çµ± */}
      <CelebrationSystem
        trigger={showCelebration}
        amount={lastSavedAmount}
        userData={userData!}
      />

      {screen === 'onboarding' && (
        <OnboardingScreen onComplete={(data) => {
          setUserData(data);
          setScreen('main');
        }} />
      )}

      {screen === 'main' && userData && (
        <div className="min-h-screen bg-gradient-to-b from-gray-900 via-gray-900 to-gray-800">
          {/* é ‚éƒ¨å°èˆª */}
          <div className="sticky top-0 z-10 bg-gray-900/95 backdrop-blur border-b border-gray-800">
            <div className="max-w-lg mx-auto px-4 py-3 flex justify-between items-center">
              <button
                onClick={() => setScreen('dashboard')}
                className="text-gray-400 hover:text-white"
              >
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                </svg>
              </button>
              <div className="text-white font-bold">Time<span className="text-emerald-400">Bar</span></div>
              <button
                onClick={() => setScreen('settings')}
                className="text-gray-400 hover:text-white"
              >
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
              </button>
            </div>
          </div>

          {/* ä¸»è¦å…§å®¹ */}
          <LifeCostCalculator
            userData={userData}
            onDecision={handleDecision}
          />
        </div>
      )}

      {screen === 'dashboard' && userData && (
        <DashboardScreen
          userData={userData}
          records={records}
          totalSaved={totalSaved}
          onClose={() => setScreen('main')}
        />
      )}

      {screen === 'history' && userData && (
        <HistoryPage
          records={records}
          userData={userData}
          onClose={() => setScreen('main')}
        />
      )}

      {screen === 'settings' && userData && (
        <SettingsPage
          userData={userData}
          onUpdateUser={setUserData}
          onClose={() => setScreen('main')}
          onReset={async () => {
            await GoogleSheetsAPI.clearAllData();
            Storage.clear();
            setUserData(null);
            setRecords([]);
            setScreen('onboarding');
          }}
        />
      )}
    </div>
  );
}

// æ–°å¢ Dashboard Screen
function DashboardScreen({ userData, records, totalSaved, onClose }) {
  return (
    <div className="min-h-screen bg-gradient-to-b from-gray-900 via-gray-900 to-gray-800 pb-8">
      <div className="sticky top-0 bg-gray-900/95 backdrop-blur border-b border-gray-800 z-10">
        <div className="max-w-lg mx-auto px-4 py-4 flex items-center">
          <button onClick={onClose} className="text-gray-400 hover:text-white mr-4">
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" />
            </svg>
          </button>
          <h1 className="text-xl font-bold text-white">è‡ªç”±å„€è¡¨æ¿</h1>
        </div>
      </div>

      <div className="max-w-lg mx-auto px-4 pt-6 space-y-6">
        <FreedomTracker userData={userData} totalSaved={totalSaved} />
        <LifeBattery userData={userData} records={records} />
      </div>
    </div>
  );
}

function LoadingScreen() {
  return (
    <div className="min-h-screen bg-gray-900 flex flex-col items-center justify-center">
      <div className="text-4xl font-black text-white mb-4">
        Time<span className="text-emerald-400">Bar</span>
      </div>
      <div className="spinner mb-4" />
      <div className="text-gray-500 text-sm">è¼‰å…¥ä¸­...</div>
    </div>
  );
}
```

**é ä¼°å·¥æ™‚**ï¼š6 å°æ™‚

---

## ğŸ® Phase 1: éŠæˆ²åŒ–èˆ‡æˆå°±ç³»çµ±

### 1.1 æ…¶ç¥å‹•ç•«ç³»çµ± â­â­â­â­

**æª”æ¡ˆä½ç½®**ï¼š`src/components/feedback/CelebrationSystem.tsx`

```typescript
import { useEffect, useState } from 'react';
import { Confetti } from '../Confetti';
import { FinanceCalc } from '@/utils/financeCalc';
import { UserData } from '@/types';

interface CelebrationSystemProps {
  trigger: boolean;
  amount: number;
  userData: UserData;
}

export function CelebrationSystem({ trigger, amount, userData }: CelebrationSystemProps) {
  const [showModal, setShowModal] = useState(false);

  useEffect(() => {
    if (trigger && amount > 0) {
      // 1. æ’­æ”¾éŸ³æ•ˆï¼ˆå¯é¸ï¼‰
      playSuccessSound();

      // 2. æ‰‹æ©Ÿéœ‡å‹•
      if (navigator.vibrate) {
        navigator.vibrate([100, 50, 100, 50, 200]);
      }

      // 3. é¡¯ç¤ºæ…¶ç¥ Modal
      setShowModal(true);

      // 4. 3 ç§’å¾Œè‡ªå‹•é—œé–‰
      setTimeout(() => {
        setShowModal(false);
      }, 3000);
    }
  }, [trigger, amount]);

  if (!showModal || amount === 0) return null;

  // è¨ˆç®—è²·å›çš„æ™‚é–“
  const { salary, age, retireAge, inflationRate, roiRate } = userData;
  const hourlyRate = FinanceCalc.hourlyRate(salary);
  const realRate = FinanceCalc.realRate(inflationRate, roiRate);
  const yearsToRetire = retireAge - age;

  const timeCost = FinanceCalc.calculateTimeCost(
    amount,
    false,
    hourlyRate,
    realRate,
    yearsToRetire
  );

  const days = Math.floor(timeCost / 24);
  const hours = Math.floor(timeCost % 24);

  // æ ¹æ“šé‡‘é¡é¸æ“‡è¨Šæ¯
  const getMessage = () => {
    if (amount >= 10000) {
      return 'é€™æ˜¯ä¸€å€‹é‡å¤§æ±ºå®šï¼';
    } else if (amount >= 1000) {
      return 'å¾ˆæ£’çš„è‡ªåˆ¶åŠ›ï¼';
    } else {
      return 'ç©å°‘æˆå¤šï¼';
    }
  };

  return (
    <>
      {/* å½©å¸¶å‹•ç•« */}
      <Confetti active={true} />

      {/* Modal */}
      <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in">
        <div className="bg-gradient-to-br from-emerald-900 via-emerald-800 to-emerald-900 rounded-3xl p-8 max-w-sm mx-4 shadow-2xl border-2 border-emerald-500/50 animate-bounce-in">
          <div className="text-center">
            {/* Emoji */}
            <div className="text-7xl mb-4 animate-bounce">ğŸ‰</div>

            {/* ä¸»æ¨™é¡Œ */}
            <h2 className="text-white text-3xl font-black mb-3">
              {getMessage()}
            </h2>

            {/* èªªæ˜ */}
            <p className="text-emerald-200 text-lg mb-4">
              ä½ å‰›å‰›è²·å›äº†
            </p>

            {/* è²·å›çš„æ™‚é–“ */}
            <div className="bg-emerald-950/50 rounded-2xl p-4 mb-4 border border-emerald-500/30">
              <div className="text-white text-5xl font-black mb-2">
                {days > 0 && <>{days} å¤©</>}
                {days > 0 && hours > 0 && <> </>}
                {hours > 0 && <>{hours} å°æ™‚</>}
              </div>
              <div className="text-emerald-300 text-sm">
                è‡ªç”±æ™‚å…‰
              </div>
            </div>

            {/* æ¿€å‹µèª */}
            <p className="text-emerald-200/80 text-sm italic">
              "{getMotivationalQuote()}"
            </p>
          </div>
        </div>
      </div>
    </>
  );
}

// éŸ³æ•ˆæ’­æ”¾ï¼ˆå¯é¸ï¼‰
function playSuccessSound() {
  try {
    const audio = new Audio('/sounds/success.mp3');
    audio.volume = 0.3;
    audio.play().catch(() => {
      // å¿½ç•¥æ’­æ”¾å¤±æ•—ï¼ˆæŸäº›ç€è¦½å™¨éœ€è¦ç”¨æˆ¶äº’å‹•ï¼‰
    });
  } catch (error) {
    // éŸ³æ•ˆä¸æ˜¯å¿…é ˆçš„
  }
}

// æ¿€å‹µèªéŒ„
function getMotivationalQuote() {
  const quotes = [
    'æ¯ä¸€æ¬¡å¿ä½ï¼Œéƒ½æ˜¯åœ¨è²·å›è‡ªå·±çš„è‡ªç”±',
    'çœä¸‹çš„ä¸æ˜¯éŒ¢ï¼Œæ˜¯æ™‚é–“',
    'ä½ æ­£åœ¨ç”¨è¡Œå‹•æ”¹è®Šæœªä¾†',
    'è‡ªå¾‹å¸¶ä¾†è‡ªç”±',
    'å°å°çš„æ±ºå®šï¼Œå¤§å¤§çš„æ”¹è®Š',
    'ä½ æ¯”æ˜¨å¤©çš„è‡ªå·±æ›´è‡ªç”±äº†',
    'å …æŒä¸‹å»ï¼Œçµ‚é»ä¸é äº†'
  ];

  return quotes[Math.floor(Math.random() * quotes.length)];
}
```

**å‹•ç•«å®šç¾©**ï¼š

```css
/* src/styles/animations.css - æ–°å¢ */

@keyframes bounce-in {
  0% {
    opacity: 0;
    transform: scale(0.3);
  }
  50% {
    transform: scale(1.05);
  }
  70% {
    transform: scale(0.9);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-bounce-in {
  animation: bounce-in 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes pulse-slow {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

.animate-pulse-slow {
  animation: pulse-slow 3s ease-in-out infinite;
}
```

**é ä¼°å·¥æ™‚**ï¼š4 å°æ™‚

---

### 1.2 æ¯æ—¥æŒ‘æˆ°ç³»çµ± â­â­â­

**ç›®æ¨™**ï¼šæä¾›æ¯æ—¥å›è¨ªç†ç”±

**æª”æ¡ˆä½ç½®**ï¼š`src/components/challenges/DailyChallenge.tsx`

```typescript
import { useState, useEffect } from 'react';
import { FinanceCalc, Formatters } from '@/utils/financeCalc';
import { Storage } from '@/utils/storage';
import { UserData } from '@/types';

const { formatTime, formatCurrency } = Formatters;

interface Challenge {
  id: string;
  title: string;
  description: string;
  reward: number;
  icon: string;
  category: string;
}

interface DailyChallengeProps {
  userData: UserData;
  onChallengeComplete: (challenge: Challenge) => void;
}

export function DailyChallenge({ userData, onChallengeComplete }: DailyChallengeProps) {
  const [completedToday, setCompletedToday] = useState<string[]>([]);

  // è¼‰å…¥ä»Šæ—¥å·²å®Œæˆçš„æŒ‘æˆ°
  useEffect(() => {
    const today = new Date().toISOString().split('T')[0];
    const stored = Storage.load(`challenges_${today}`, []) as string[];
    setCompletedToday(stored);
  }, []);

  // å„²å­˜å®Œæˆç‹€æ…‹
  const saveCompleted = (challengeId: string) => {
    const today = new Date().toISOString().split('T')[0];
    const updated = [...completedToday, challengeId];
    setCompletedToday(updated);
    Storage.save(`challenges_${today}`, updated);
  };

  // æŒ‘æˆ°åˆ—è¡¨
  const challenges: Challenge[] = [
    {
      id: 'coffee',
      title: 'å’–å•¡æŒ‘æˆ°',
      description: 'ä»Šå¤©ä¸è²·æ‰‹æ–é£²/å’–å•¡',
      reward: 150,
      icon: 'â˜•',
      category: 'é£²é£Ÿ'
    },
    {
      id: 'lunch',
      title: 'è‡ªå‚™åˆé¤',
      description: 'è‡ªå·±å¸¶ä¾¿ç•¶ä¸Šç­',
      reward: 100,
      icon: 'ğŸ±',
      category: 'é£²é£Ÿ'
    },
    {
      id: 'taxi',
      title: 'å¤§çœ¾é‹è¼¸',
      description: 'ä¸å«è¨ˆç¨‹è»Š/Uber',
      reward: 200,
      icon: 'ğŸš‡',
      category: 'äº¤é€š'
    },
    {
      id: 'snack',
      title: 'é›¶é£ŸæŠµæŠ—',
      description: 'ä¸è²·é›¶é£Ÿé»å¿ƒ',
      reward: 50,
      icon: 'ğŸ¿',
      category: 'é£²é£Ÿ'
    }
  ];

  const { salary, age, retireAge, inflationRate, roiRate } = userData;
  const hourlyRate = FinanceCalc.hourlyRate(salary);
  const realRate = FinanceCalc.realRate(inflationRate, roiRate);
  const yearsToRetire = retireAge - age;

  // è¨ˆç®—å®Œæˆç™¾åˆ†æ¯”
  const completionRate = Math.round((completedToday.length / challenges.length) * 100);

  return (
    <div className="bg-gray-800/60 backdrop-blur rounded-3xl p-6 border border-gray-700">
      <div className="flex items-center justify-between mb-4">
        <h3 className="text-white font-bold text-lg">ğŸ¯ ä»Šæ—¥æŒ‘æˆ°</h3>
        <div className="text-emerald-400 text-sm font-bold">
          {completedToday.length}/{challenges.length}
        </div>
      </div>

      {/* é€²åº¦æ¢ */}
      <div className="mb-6">
        <div className="h-2 bg-gray-700 rounded-full overflow-hidden">
          <div
            className="h-full bg-gradient-to-r from-emerald-600 to-emerald-400 transition-all duration-500"
            style={{ width: `${completionRate}%` }}
          />
        </div>
        <div className="text-gray-500 text-xs mt-1 text-right">
          {completionRate}% å®Œæˆ
        </div>
      </div>

      {/* æŒ‘æˆ°åˆ—è¡¨ */}
      <div className="space-y-3">
        {challenges.map((challenge) => {
          const isCompleted = completedToday.includes(challenge.id);

          // è¨ˆç®—é€™å€‹æŒ‘æˆ°èƒ½è²·å›å¤šå°‘æ™‚é–“
          const timeCost = FinanceCalc.calculateTimeCost(
            challenge.reward,
            false,
            hourlyRate,
            realRate,
            yearsToRetire
          );
          const timeFormatted = formatTime(timeCost);

          return (
            <div
              key={challenge.id}
              className={`relative p-4 rounded-xl border-2 transition-all ${
                isCompleted
                  ? 'bg-emerald-500/20 border-emerald-500 shadow-lg shadow-emerald-500/20'
                  : 'bg-gray-700/50 border-gray-600 hover:border-gray-500'
              }`}
            >
              <div className="flex items-center gap-3">
                {/* Icon */}
                <div
                  className={`text-4xl transition-transform ${
                    isCompleted ? 'scale-110' : ''
                  }`}
                >
                  {challenge.icon}
                </div>

                {/* å…§å®¹ */}
                <div className="flex-1">
                  <div className="flex items-center gap-2 mb-1">
                    <div
                      className={`font-bold ${
                        isCompleted ? 'text-emerald-300' : 'text-white'
                      }`}
                    >
                      {challenge.title}
                    </div>
                    <span
                      className={`text-xs px-2 py-0.5 rounded ${
                        isCompleted
                          ? 'bg-emerald-500/30 text-emerald-300'
                          : 'bg-gray-600 text-gray-400'
                      }`}
                    >
                      {challenge.category}
                    </span>
                  </div>
                  <div
                    className={`text-sm ${
                      isCompleted ? 'text-emerald-400/80' : 'text-gray-400'
                    }`}
                  >
                    {challenge.description}
                  </div>
                </div>

                {/* æŒ‰éˆ•æˆ–å®Œæˆæ¨™è¨˜ */}
                {!isCompleted ? (
                  <button
                    onClick={() => {
                      saveCompleted(challenge.id);
                      onChallengeComplete(challenge);
                    }}
                    className="bg-emerald-500 hover:bg-emerald-400 text-gray-900 px-4 py-2 rounded-lg font-bold text-sm transition-all active:scale-95"
                  >
                    <div>å®Œæˆ</div>
                    <div className="text-xs text-emerald-900">
                      +{timeFormatted.value}
                      {timeFormatted.unit}
                    </div>
                  </button>
                ) : (
                  <div className="text-emerald-400 text-3xl">âœ“</div>
                )}
              </div>
            </div>
          );
        })}
      </div>

      {/* å…¨éƒ¨å®Œæˆæç¤º */}
      {completedToday.length === challenges.length && (
        <div className="mt-4 text-center p-4 bg-emerald-500/20 rounded-xl border border-emerald-500/50 animate-slide-up">
          <div className="text-2xl mb-2">ğŸ†</div>
          <div className="text-emerald-400 font-bold mb-1">
            ä»Šæ—¥å…¨éƒ¨å®Œæˆï¼
          </div>
          <div className="text-emerald-300/80 text-sm">
            ä½ æ˜¯è‡ªç”±æˆ°å£«ï¼æ˜å¤©å†ä¾†æŒ‘æˆ°å§ï¼
          </div>
        </div>
      )}
    </div>
  );
}
```

**æ•´åˆåˆ° Dashboard**ï¼š

```typescript
// åœ¨ DashboardScreen ä¸­åŠ å…¥
<DailyChallenge
  userData={userData}
  onChallengeComplete={(challenge) => {
    // è¨˜éŒ„ç‚ºä¸€ç­†å„²è“„
    handleDecision('save', challenge.reward);
    // è§¸ç™¼æ…¶ç¥
    setLastSavedAmount(challenge.reward);
    setShowCelebration(true);
  }}
/>
```

**é ä¼°å·¥æ™‚**ï¼š6 å°æ™‚

---

## ğŸ§  Phase 2: å¿ƒç†å­¸å„ªåŒ–

### 2.1 è¿½è¶•è¨ˆåŠƒï¼ˆé˜²ç„¦æ…®ï¼‰â­â­â­â­

**ç›®æ¨™**ï¼šç•¶ç”¨æˆ¶è½å¾Œæ™‚ï¼Œä¸åªèªªã€Œä½ è½å¾Œäº†ã€ï¼Œé‚„è¦çµ¦å‡ºã€Œé€™æ¨£åšå¯ä»¥è¿½ä¸Šã€

**æª”æ¡ˆä½ç½®**ï¼š`src/components/psychology/CatchUpPlan.tsx`

```typescript
import { useMemo } from 'react';
import { FinanceCalc, Formatters } from '@/utils/financeCalc';
import { UserData } from '@/types';

const { formatCurrency, formatYearMonth } = Formatters;

interface CatchUpPlanProps {
  userData: UserData;
  ageDiff: number; // è½å¾Œçš„å¹´æ•¸ï¼ˆè² æ•¸ = é ˜å…ˆï¼‰
}

export function CatchUpPlan({ userData, ageDiff }: CatchUpPlanProps) {
  // å¦‚æœé ˜å…ˆæˆ–å‰›å¥½ï¼Œä¸é¡¯ç¤ºè¿½è¶•è¨ˆåŠƒ
  if (ageDiff <= 0) return null;

  const { salary, age, retireAge, currentSavings, monthlySavings, inflationRate, roiRate } = userData;
  const realRate = FinanceCalc.realRate(inflationRate, roiRate);
  const yearsToRetire = retireAge - age;

  // è¨ˆç®—ä¸åŒæ–¹æ¡ˆéœ€è¦å¤šä¹…æ‰èƒ½è¿½ä¸Š
  const scenarios = useMemo(() => {
    const plans = [1000, 2000, 3000, 5000];

    return plans.map((extraSaving) => {
      const newMonthlySaving = monthlySavings + extraSaving;

      // è¨ˆç®—æ–°çš„é ä¼°é€€ä¼‘å¹´é½¡
      // ç°¡åŒ–ç‰ˆï¼šå‡è¨­ç·šæ€§é—œä¿‚
      const savingIncrease = extraSaving / monthlySavings;
      const timeSaved = ageDiff * savingIncrease;

      // è¨ˆç®—éœ€è¦å¹¾å€‹æœˆæ‰èƒ½è¿½ä¸Š
      const monthsToTarget = ageDiff * 12 / savingIncrease;

      return {
        extraSaving,
        newMonthlySaving,
        timeSaved: Math.min(timeSaved, ageDiff),
        monthsToTarget: Math.round(monthsToTarget),
        percentage: Math.round((extraSaving / monthlySavings) * 100)
      };
    }).filter(s => s.monthsToTarget > 0 && s.monthsToTarget < 240); // åªé¡¯ç¤ºåˆç†çš„æ–¹æ¡ˆï¼ˆ20å¹´å…§ï¼‰
  }, [ageDiff, monthlySavings]);

  if (scenarios.length === 0) {
    return null;
  }

  return (
    <div className="bg-orange-500/10 border-2 border-orange-500/30 rounded-2xl p-5">
      <div className="flex items-start gap-2 mb-4">
        <div className="text-2xl">ğŸ’¡</div>
        <div>
          <div className="text-orange-400 font-bold text-lg mb-1">
            è¿½è¶•è¨ˆåŠƒ
          </div>
          <div className="text-gray-300 text-sm">
            ç›®å‰è½å¾Œ {formatYearMonth(ageDiff)}ï¼Œä»¥ä¸‹æ–¹æ¡ˆå¯ä»¥å¹«ä½ è¿½ä¸Šï¼š
          </div>
        </div>
      </div>

      <div className="space-y-3">
        {scenarios.map((scenario, index) => (
          <div
            key={scenario.extraSaving}
            className={`bg-gray-800/60 rounded-xl p-4 border transition-all hover:border-orange-500 cursor-pointer ${
              index === 1 ? 'border-orange-500/50' : 'border-gray-700'
            }`}
          >
            <div className="flex items-center justify-between mb-2">
              <div>
                <div className="text-white font-bold">
                  æ–¹æ¡ˆ {index + 1}
                  {index === 1 && (
                    <span className="ml-2 text-xs bg-orange-500 text-gray-900 px-2 py-0.5 rounded">
                      æ¨è–¦
                    </span>
                  )}
                </div>
                <div className="text-gray-400 text-sm">
                  æ¯æœˆå¤šå­˜ {formatCurrency(scenario.extraSaving)}
                  ï¼ˆå¢åŠ  {scenario.percentage}%ï¼‰
                </div>
              </div>
            </div>

            <div className="flex items-center justify-between">
              <div className="text-gray-300 text-sm">
                æ–°æœˆå„²è“„ï¼š
                <span className="text-emerald-400 font-bold ml-1">
                  {formatCurrency(scenario.newMonthlySaving)}
                </span>
              </div>
              <div className="text-right">
                <div className="text-emerald-400 font-bold">
                  {Math.floor(scenario.monthsToTarget / 12)} å¹´{' '}
                  {scenario.monthsToTarget % 12} å€‹æœˆ
                </div>
                <div className="text-gray-500 text-xs">å¯è¿½ä¸Šç›®æ¨™</div>
              </div>
            </div>
          </div>
        ))}
      </div>

      <div className="mt-4 text-center">
        <button className="bg-orange-500 hover:bg-orange-400 text-gray-900 px-6 py-3 rounded-xl font-bold transition-all active:scale-95">
          é¸æ“‡æ–¹æ¡ˆä¸¦é–‹å§‹åŸ·è¡Œ
        </button>
      </div>
    </div>
  );
}
```

**æ•´åˆä½ç½®**ï¼š
- åœ¨ `DashboardScreen` ä¸­
- åœ¨ GPS ç‹€æ…‹é¡¯ç¤ºä¸‹æ–¹

**é ä¼°å·¥æ™‚**ï¼š4 å°æ™‚

---

### 2.2 æ­£å‘è¨Šæ¯æ¡†æ¶ â­â­â­

**ç›®æ¨™**ï¼šé‡å¯«æ‰€æœ‰è² é¢è¨Šæ¯ï¼Œæ”¹æˆæ­£å‘/è¡Œå‹•å°å‘

**æª”æ¡ˆä½ç½®**ï¼š`src/utils/positiveMessaging.ts`

```typescript
export const PositiveMessaging = {
  // GPS ç‹€æ…‹è¨Šæ¯
  gpsStatus: {
    ahead: (years: number) => ({
      emoji: 'ğŸ‰',
      title: 'å¤ªæ£’äº†ï¼',
      message: `ä½ é ˜å…ˆè¨ˆåŠƒ ${years.toFixed(1)} å¹´ï¼`,
      action: 'ç¹¼çºŒä¿æŒé€™å€‹ç¯€å¥'
    }),

    onTrack: () => ({
      emoji: 'âœ“',
      title: 'å®Œç¾ï¼',
      message: 'ä½ æ­£èµ°åœ¨è¨ˆç•«çš„è»Œé“ä¸Š',
      action: 'ç©©å¥å‰é€²ï¼ŒæŒçºŒå°±æ˜¯åŠ›é‡'
    }),

    behind: (years: number, extraSaving: number) => ({
      emoji: 'ğŸ’ª',
      title: 'å†åŠ æŠŠå‹ï¼',
      message: `é‚„å·® ${years.toFixed(1)} å¹´`,
      action: `æ¯æœˆå¤šå­˜ ${extraSaving}ï¼Œ6 å€‹æœˆå°±èƒ½è¿½ä¸Š`
    })
  },

  // æ¶ˆè²»è¨˜éŒ„å¾Œ
  afterSpending: (amount: number, days: number) => ({
    neutral: `å·²è¨˜éŒ„ ${amount} å…ƒçš„æ¶ˆè²»`,
    insight: `ä¸‹æ¬¡çœä¸‹ä¾†ï¼Œå°±èƒ½è²·å› ${days} å¤©è‡ªç”±æ™‚å…‰`,
    motivation: 'æ¯æ¬¡çš„å°æ±ºå®šï¼Œéƒ½åœ¨å¡‘é€ æœªä¾†'
  }),

  // å„²è“„è¨˜éŒ„å¾Œ
  afterSaving: (amount: number, days: number) => ({
    celebration: 'å¤ªæ£’äº†ï¼',
    impact: `ä½ å‰›å‰›è²·å›äº† ${days} å¤©è‡ªç”±`,
    quote: getRandomQuote('save')
  }),

  // é‡Œç¨‹ç¢‘è§£é–
  milestoneUnlocked: (milestone: string) => ({
    title: 'ğŸ† æˆå°±è§£é–ï¼',
    message: `ä½ è§£é–äº†ã€Œ${milestone}ã€`,
    reward: 'é€™æ˜¯ä½ åŠªåŠ›çš„è­‰æ˜'
  })
};

function getRandomQuote(type: 'save' | 'spend') {
  const saveQuotes = [
    'æ¯ä¸€æ¬¡å¿ä½ï¼Œéƒ½æ˜¯åœ¨è²·å›è‡ªå·±çš„è‡ªç”±',
    'çœä¸‹çš„ä¸æ˜¯éŒ¢ï¼Œæ˜¯æ™‚é–“',
    'ä½ æ­£åœ¨ç”¨è¡Œå‹•æ”¹è®Šæœªä¾†',
    'è‡ªå¾‹å¸¶ä¾†è‡ªç”±',
    'ä½ æ¯”æ˜¨å¤©çš„è‡ªå·±æ›´è‡ªç”±äº†'
  ];

  const spendQuotes = [
    'æ²’é—œä¿‚ï¼ŒçŸ¥é“ä»£åƒ¹å°±å¥½',
    'å¶çˆ¾äº«å—ä¹Ÿæ˜¯ç”Ÿæ´»çš„ä¸€éƒ¨åˆ†',
    'ä¸‹æ¬¡å¯ä»¥åšå¾—æ›´å¥½',
    'é‡è¦çš„æ˜¯æŒçºŒå‰é€²'
  ];

  const quotes = type === 'save' ? saveQuotes : spendQuotes;
  return quotes[Math.floor(Math.random() * quotes.length)];
}
```

**æ‡‰ç”¨**ï¼š
- åœ¨æ‰€æœ‰é¡¯ç¤ºè¨Šæ¯çš„åœ°æ–¹ä½¿ç”¨é€™å€‹æ¨¡çµ„
- é¿å…ç›´æ¥å¯«æ­»è² é¢æ–‡æ¡ˆ

**é ä¼°å·¥æ™‚**ï¼š2 å°æ™‚

---

## ğŸ“Š Phase 3: è¦–è¦ºåŒ–èˆ‡é«”é©—æå‡

### 3.1 æ”¯å‡ºåˆ†é¡åˆ†æ â­â­â­

**ç›®æ¨™**ï¼šè®“ç”¨æˆ¶çœ‹åˆ°ã€Œå“ªå€‹åˆ†é¡åƒæ‰æœ€å¤šç”Ÿå‘½ã€

**æª”æ¡ˆä½ç½®**ï¼š`src/components/analytics/SpendingBreakdown.tsx`

```typescript
import { useMemo } from 'react';
import { PieChart, Pie, Cell, ResponsiveContainer, Legend, Tooltip } from 'recharts';
import { FinanceCalc, Formatters } from '@/utils/financeCalc';
import { UserData, Record as RecordType } from '@/types';

const { formatCurrency } = Formatters;

const COLORS = {
  'é£²é£Ÿ': '#f59e0b',
  'è³¼ç‰©': '#ec4899',
  'å¨›æ¨‚': '#8b5cf6',
  'äº¤é€š': '#06b6d4',
  'è¨‚é–±': '#ef4444',
  'å…¶ä»–': '#6b7280'
};

interface SpendingBreakdownProps {
  records: RecordType[];
  userData: UserData;
}

export function SpendingBreakdown({ records, userData }: SpendingBreakdownProps) {
  const spendingRecords = records.filter((r) => r.type === 'spend');

  if (spendingRecords.length === 0) {
    return (
      <div className="bg-gray-800/60 rounded-3xl p-6 border border-gray-700 text-center">
        <div className="text-4xl mb-2">ğŸ“Š</div>
        <div className="text-gray-400">é‚„æ²’æœ‰æ¶ˆè²»è¨˜éŒ„</div>
      </div>
    );
  }

  const { salary, age, retireAge, inflationRate, roiRate } = userData;
  const hourlyRate = FinanceCalc.hourlyRate(salary);
  const realRate = FinanceCalc.realRate(inflationRate, roiRate);
  const yearsToRetire = retireAge - age;

  // æŒ‰åˆ†é¡çµ±è¨ˆ
  const categoryData = useMemo(() => {
    const byCategory: { [key: string]: number } = {};

    spendingRecords.forEach((record) => {
      const category = record.category || 'å…¶ä»–';
      byCategory[category] = (byCategory[category] || 0) + record.amount;
    });

    return Object.entries(byCategory)
      .map(([name, value]) => {
        // è¨ˆç®—é€™å€‹åˆ†é¡åƒæ‰äº†å¤šå°‘ç”Ÿå‘½
        const timeCost = FinanceCalc.calculateTimeCost(
          value,
          false,
          hourlyRate,
          realRate,
          yearsToRetire
        );
        const daysLost = Math.floor(timeCost / 24);

        return {
          name,
          value,
          daysLost,
          percentage: 0 // å¾Œé¢è¨ˆç®—
        };
      })
      .sort((a, b) => b.value - a.value);
  }, [spendingRecords, hourlyRate, realRate, yearsToRetire]);

  // è¨ˆç®—ç™¾åˆ†æ¯”
  const totalSpent = categoryData.reduce((sum, item) => sum + item.value, 0);
  categoryData.forEach((item) => {
    item.percentage = Math.round((item.value / totalSpent) * 100);
  });

  // æœ€å¤§æ®ºæ‰‹
  const topKiller = categoryData[0];

  return (
    <div className="bg-gray-800/60 backdrop-blur rounded-3xl p-6 border border-gray-700">
      <h3 className="text-white font-bold text-lg mb-4">
        ğŸ’¸ æ”¯å‡ºåˆ†æ
      </h3>

      {/* åœ–è¡¨ */}
      <ResponsiveContainer width="100%" height={250}>
        <PieChart>
          <Pie
            data={categoryData}
            cx="50%"
            cy="50%"
            labelLine={false}
            label={(entry) => `${entry.percentage}%`}
            outerRadius={80}
            fill="#8884d8"
            dataKey="value"
          >
            {categoryData.map((entry) => (
              <Cell
                key={entry.name}
                fill={COLORS[entry.name] || COLORS['å…¶ä»–']}
              />
            ))}
          </Pie>
          <Tooltip
            content={({ active, payload }) => {
              if (active && payload && payload.length) {
                const data = payload[0].payload;
                return (
                  <div className="bg-gray-900 p-3 rounded-lg border border-gray-700">
                    <div className="text-white font-bold">{data.name}</div>
                    <div className="text-gray-400 text-sm">
                      {formatCurrency(data.value)}
                    </div>
                    <div className="text-orange-400 text-xs">
                      = {data.daysLost} å¤©ç”Ÿå‘½
                    </div>
                  </div>
                );
              }
              return null;
            }}
          />
        </PieChart>
      </ResponsiveContainer>

      {/* åˆ—è¡¨ */}
      <div className="space-y-2 mt-4">
        {categoryData.map((cat, index) => (
          <div
            key={cat.name}
            className="flex items-center justify-between p-3 bg-gray-700/30 rounded-xl"
          >
            <div className="flex items-center gap-2">
              <div
                className="w-3 h-3 rounded"
                style={{ backgroundColor: COLORS[cat.name] || COLORS['å…¶ä»–'] }}
              />
              <span className="text-gray-300">{cat.name}</span>
            </div>
            <div className="text-right">
              <div className="text-orange-400 font-bold">
                {formatCurrency(cat.value)}
              </div>
              <div className="text-gray-500 text-xs">
                {cat.daysLost} å¤© â€¢ {cat.percentage}%
              </div>
            </div>
          </div>
        ))}
      </div>

      {/* æœ€å¤§æ®ºæ‰‹è­¦å‘Š */}
      {topKiller && (
        <div className="mt-4 p-4 bg-red-500/10 border border-red-500/30 rounded-xl">
          <div className="flex items-start gap-2">
            <div className="text-2xl">ğŸ’€</div>
            <div className="flex-1">
              <div className="text-red-400 font-bold mb-1">
                ç”Ÿå‘½æ®ºæ‰‹ #{1}ï¼š{topKiller.name}
              </div>
              <div className="text-gray-300 text-sm">
                å¦‚æœæ¸›å°‘é€™å€‹åˆ†é¡çš„æ”¯å‡º 50%ï¼Œä½ å¯ä»¥ææ—©{' '}
                <span className="text-emerald-400 font-bold">
                  {Math.floor(topKiller.daysLost * 0.5)} å¤©
                </span>{' '}
                é€€ä¼‘
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}
```

**å®‰è£ä¾è³´**ï¼š
```bash
npm install recharts
```

**é ä¼°å·¥æ™‚**ï¼š6 å°æ™‚

---

### 3.2 ä¸»ç•«é¢ç´°ç¯€å„ªåŒ– â­â­â­

**ç›®æ¨™**ï¼šå¾èˆŠè¨ˆåŠƒä¸­æŒ‘é¸ä¸¦å¯¦ä½œé—œéµå„ªåŒ–

#### 3.2.1 æ•¸å­—æ ¼å¼å„ªåŒ–

```typescript
// src/utils/financeCalc.ts - æ›´æ–° Formatters
export const Formatters = {
  // ... ç¾æœ‰å‡½æ•¸

  // æ–°å¢ï¼šæ ¼å¼åŒ–å¹´æœˆ
  formatYearMonth: (years: number) => {
    const y = Math.floor(years);
    const m = Math.round((years - y) * 12);

    if (y === 0) {
      return `${m} å€‹æœˆ`;
    } else if (m === 0) {
      return `${y} å¹´`;
    } else {
      return `${y} å¹´ ${m} å€‹æœˆ`;
    }
  },

  // å„ªåŒ–ï¼šformatTime ä½¿ç”¨ formatYearMonth
  formatTime: (hours: number) => {
    const years = hours / (8 * 22 * 12);
    if (years >= 1) {
      return { value: Formatters.formatYearMonth(years), unit: '' };
    }

    const days = hours / 8;
    if (days >= 1) {
      const d = Math.floor(days);
      const h = Math.round((days - d) * 8);
      return { value: h > 0 ? `${d}å¤©${h}` : d, unit: h > 0 ? 'å°æ™‚' : 'å¤©' };
    }

    return { value: Math.round(hours), unit: 'å°æ™‚' };
  }
};
```

#### 3.2.2 çµ±è¨ˆå¡ç‰‡æ”¶åˆ

```typescript
// åœ¨ DashboardScreen ä¸­
const [showDetailedStats, setShowDetailedStats] = useState(false);

<button
  onClick={() => setShowDetailedStats(!showDetailedStats)}
  className="w-full bg-gray-800/40 rounded-2xl p-4 flex justify-between items-center mb-4"
>
  <span className="text-gray-400 text-sm">ğŸ“Š è©³ç´°çµ±è¨ˆ</span>
  <svg
    className={`w-5 h-5 text-gray-400 transform transition-transform ${
      showDetailedStats ? 'rotate-180' : ''
    }`}
  >
    {/* ä¸‹ç®­é ­ SVG */}
  </svg>
</button>

{showDetailedStats && (
  <div className="space-y-4 animate-slide-down">
    <SpendingBreakdown records={records} userData={userData} />
    {/* å…¶ä»–çµ±è¨ˆ... */}
  </div>
)}
```

**é ä¼°å·¥æ™‚**ï¼š4 å°æ™‚

---

## ğŸ“‹ Implementation Timelineï¼ˆé‡æ–°è¦åŠƒï¼‰

### Sprint 0 (Week 1-2): æ ¸å¿ƒç”¢å“è½‰å‹ ğŸ”¥ğŸ”¥ğŸ”¥
**ç›®æ¨™**ï¼šæŠŠè¨ˆç®—æ©Ÿè®Šæˆè‡ªç”±è²©è³£æ©Ÿ

**ä»»å‹™æ¸…å–®**ï¼š
- [ ] 0.1 ç”Ÿå‘½æˆæœ¬è¨ˆç®—å™¨ - 12h
  - [ ] UI è¨­è¨ˆèˆ‡å¯¦ä½œ
  - [ ] æ ¸å¿ƒè¨ˆç®—é‚è¼¯
  - [ ] å¿«é€Ÿé‡‘é¡æŒ‰éˆ•
  - [ ] ç”Ÿå‹•æ¯”å–»ç³»çµ±
- [ ] 0.2 å¾®å‹é‡Œç¨‹ç¢‘ç³»çµ± - 10h
  - [ ] é‡Œç¨‹ç¢‘å®šç¾©
  - [ ] é€²åº¦è¨ˆç®—
  - [ ] UI å¯¦ä½œ
- [ ] 0.3 ç”Ÿå‘½é›»æ± è¦–è¦ºåŒ– - 8h
  - [ ] é›»æ± å‹•ç•«
  - [ ] é¡è‰²åˆ†å€
  - [ ] å‹•æ…‹è¨Šæ¯
- [ ] 0.4 ä¸»ç•«é¢æ¶æ§‹é‡çµ„ - 6h
  - [ ] App.tsx æ”¹é€ 
  - [ ] å°èˆªæ•´åˆ
  - [ ] Dashboard Screen
- [ ] 1.1 æ…¶ç¥å‹•ç•«ç³»çµ± - 4h
  - [ ] Modal è¨­è¨ˆ
  - [ ] å½©å¸¶æ•ˆæœ
  - [ ] éŸ³æ•ˆæ•´åˆï¼ˆå¯é¸ï¼‰

**ç¸½è¨ˆï¼š40 å°æ™‚**

**æª¢æŸ¥é»**ï¼š
- âœ… ç”¨æˆ¶èƒ½åœ¨ä¸»ç•«é¢è¼¸å…¥é‡‘é¡ï¼Œçœ‹åˆ°ç”Ÿå‘½æˆæœ¬
- âœ… æŒ‰ä¸‹ã€Œæˆ‘ä¸è²·äº†ã€æœƒè§¸ç™¼æ…¶ç¥å‹•ç•«
- âœ… èƒ½çœ‹åˆ°å·²è§£é–çš„é‡Œç¨‹ç¢‘
- âœ… ç”Ÿå‘½é›»æ± æ­£ç¢ºé¡¯ç¤ºä¸‰å€‹å€å¡Š

**æˆåŠŸæŒ‡æ¨™**ï¼š
- ä½¿ç”¨å ´æ™¯è½‰è®Šï¼šå¾ã€Œè¨˜å¸³ã€â†’ã€Œæ¶ˆè²»å‰æŸ¥è©¢ã€
- æƒ…ç·’åæ‡‰ï¼šçœ‹åˆ°ç”Ÿå‘½æˆæœ¬æ™‚æœ‰ã€Œéœ‡æ’¼æ„Ÿã€

---

### Sprint 1 (Week 3): éŠæˆ²åŒ–èˆ‡å¿ƒç†å„ªåŒ–
**ç›®æ¨™**ï¼šæé«˜é»è‘—åº¦ï¼Œé™ä½ç„¦æ…®

**ä»»å‹™æ¸…å–®**ï¼š
- [ ] 1.2 æ¯æ—¥æŒ‘æˆ°ç³»çµ± - 6h
  - [ ] æŒ‘æˆ°å®šç¾©
  - [ ] LocalStorage ç‹€æ…‹ç®¡ç†
  - [ ] UI å¯¦ä½œ
- [ ] 2.1 è¿½è¶•è¨ˆåŠƒ - 4h
  - [ ] æ–¹æ¡ˆè¨ˆç®—é‚è¼¯
  - [ ] UI è¨­è¨ˆ
- [ ] 2.2 æ­£å‘è¨Šæ¯æ¡†æ¶ - 2h
  - [ ] è¨Šæ¯æ¨¡çµ„
  - [ ] æ‡‰ç”¨åˆ°å„è™•
- [ ] æ•¸å­—æ ¼å¼å„ªåŒ–ï¼ˆå¾èˆŠè¨ˆåŠƒï¼‰- 2h
- [ ] çµ±è¨ˆå¡ç‰‡æ”¶åˆ - 2h

**ç¸½è¨ˆï¼š16 å°æ™‚**

**æª¢æŸ¥é»**ï¼š
- âœ… ç”¨æˆ¶æ¯å¤©æœƒçœ‹åˆ° 4 å€‹æŒ‘æˆ°
- âœ… è½å¾Œæ™‚æœƒçœ‹åˆ°è¿½è¶•è¨ˆåŠƒ
- âœ… æ‰€æœ‰è¨Šæ¯éƒ½æ˜¯æ­£å‘/è¡Œå‹•å°å‘
- âœ… æ•¸å­—é¡¯ç¤ºæ›´æ˜“è®€ï¼ˆå¹´æœˆæ ¼å¼ï¼‰

**æˆåŠŸæŒ‡æ¨™**ï¼š
- æ¬¡æ—¥å›è¨ªç‡ > 40%
- ç”¨æˆ¶å®Œæˆè‡³å°‘ 1 å€‹æ¯æ—¥æŒ‘æˆ° > 50%

---

### Sprint 2 (Week 4): è¦–è¦ºåŒ–èˆ‡é«”é©—æå‡
**ç›®æ¨™**ï¼šæä¾›æ·±åº¦æ´å¯Ÿ

**ä»»å‹™æ¸…å–®**ï¼š
- [ ] 3.1 æ”¯å‡ºåˆ†é¡åˆ†æ - 6h
  - [ ] Recharts æ•´åˆ
  - [ ] é¤…åœ–å¯¦ä½œ
  - [ ] æœ€å¤§æ®ºæ‰‹æç¤º
- [ ] è³‡ç”¢æˆé•·æ›²ç·šåœ–ï¼ˆå¯é¸ï¼‰- 6h
- [ ] å‚™ä»½åŒ¯å‡ºåŠŸèƒ½ - 4h
- [ ] å°ç´°ç¯€ polish - 2h
  - [ ] æ¸…é™¤è³‡æ–™æ”¹ä¸­æ–‡
  - [ ] é‡‘é¡æ ¼å¼çµ±ä¸€
  - [ ] å®Œç¾ç‹€æ…‹å®¹å¿å€é–“

**ç¸½è¨ˆï¼š18 å°æ™‚**

**æª¢æŸ¥é»**ï¼š
- âœ… ç”¨æˆ¶èƒ½çœ‹åˆ°æ”¯å‡ºåˆ†é¡åœ–è¡¨
- âœ… èƒ½è­˜åˆ¥ã€Œç”Ÿå‘½æ®ºæ‰‹ã€åˆ†é¡
- âœ… èƒ½åŒ¯å‡º/åŒ¯å…¥å‚™ä»½

**æˆåŠŸæŒ‡æ¨™**ï¼š
- ç”¨æˆ¶æŸ¥çœ‹æ”¯å‡ºåˆ†æ > 60%
- ç”¨æˆ¶æ ¹æ“šåˆ†æèª¿æ•´è¡Œç‚º > 30%

---

## ğŸ¯ Success Metricsï¼ˆæ–°æˆåŠŸæŒ‡æ¨™ï¼‰

### æ ¸å¿ƒæŒ‡æ¨™

#### 1. ä½¿ç”¨é »ç‡ï¼ˆæœ€é—œéµï¼‰
- **ç•¶å‰åŸºæº–**ï¼šæ¯æœˆ 1 æ¬¡
- **ç›®æ¨™**ï¼šæ¯å¤© 3-5 æ¬¡
- **æ¸¬é‡**ï¼šDAU / MAU æ¯”ç‡
- **é”æˆæ¢ä»¶**ï¼š> 0.15ï¼ˆå³ 15% çš„æœˆæ´»ç”¨æˆ¶æ¯å¤©éƒ½ç”¨ï¼‰

#### 2. ä½¿ç”¨å ´æ™¯è½‰è®Š
- **ç•¶å‰**ï¼šæ™šä¸Šè¨˜å¸³
- **ç›®æ¨™**ï¼šæ¶ˆè²»å‰æŸ¥è©¢
- **æ¸¬é‡**ï¼šç”Ÿå‘½æˆæœ¬è¨ˆç®—å™¨ä½¿ç”¨æ¬¡æ•¸ vs æ‰‹å‹•è¨˜éŒ„æ¬¡æ•¸
- **é”æˆæ¢ä»¶**ï¼šè¨ˆç®—å™¨ä½¿ç”¨æ¬¡æ•¸ > è¨˜éŒ„æ¬¡æ•¸ Ã— 2

#### 3. æ±ºç­–å½±éŸ¿åŠ›
- **ç›®æ¨™**ï¼šç”¨æˆ¶å› ç‚º App è€Œæ”¾æ£„æ¶ˆè²»
- **æ¸¬é‡**ï¼šæŒ‰ä¸‹ã€Œæˆ‘ä¸è²·äº†ã€çš„æ¬¡æ•¸
- **é”æˆæ¢ä»¶**ï¼š> æ¯é€± 2 æ¬¡

#### 4. æƒ…ç·’åƒ¹å€¼
- **ç•¶å‰**ï¼šç„¦æ…® ğŸ˜°
- **ç›®æ¨™**ï¼šæˆå°±æ„Ÿ ğŸ‰
- **æ¸¬é‡**ï¼šç”¨æˆ¶åé¥‹å•å·ã€Œé€™ App è®“æˆ‘æ„Ÿåˆ°...ã€
  - ç„¦æ…®/å£“åŠ›ï¼š< 20%
  - æŒæ§æ„Ÿ/æˆå°±æ„Ÿï¼š> 70%

### æ¬¡è¦æŒ‡æ¨™

#### 5. ç•™å­˜ç‡
- **æ¬¡æ—¥ç•™å­˜**ï¼š> 50%ï¼ˆçœ‹åˆ°æ…¶ç¥å‹•ç•«å¾Œæœƒå›ä¾†ï¼‰
- **7 æ—¥ç•™å­˜**ï¼š> 35%ï¼ˆæ¯æ—¥æŒ‘æˆ°ï¼‰
- **30 æ—¥ç•™å­˜**ï¼š> 20%ï¼ˆå·²é¤Šæˆç¿’æ…£ï¼‰

#### 6. åŠŸèƒ½ä½¿ç”¨ç‡
- **æ¯æ—¥æŒ‘æˆ°å®Œæˆç‡**ï¼š> 40%
- **é‡Œç¨‹ç¢‘æŸ¥çœ‹ç‡**ï¼š> 70%
- **ç”Ÿå‘½é›»æ± æŸ¥çœ‹ç‡**ï¼š> 60%

#### 7. è¡Œç‚ºæ”¹è®Š
- **ç›®æ¨™**ï¼šå¯¦éš›æ¸›å°‘æ¶ˆè²»ã€å¢åŠ å„²è“„
- **æ¸¬é‡**ï¼š
  - æ¯æœˆå„²è“„è¨˜éŒ„ vs èŠ±è²»è¨˜éŒ„æ¯”ä¾‹
  - ç”¨æˆ¶è‡ªæˆ‘å ±å‘Šã€Œæ¸›å°‘æ¶ˆè²»æ¬¡æ•¸ã€

---

## ğŸ“¦ Dependenciesï¼ˆæœ€çµ‚æ¸…å–®ï¼‰

```bash
# Phase 0-1
npm install react-number-format react-hot-toast

# Phase 2
npm install recharts

# æ¸¬è©¦
npm install --save-dev @testing-library/react @testing-library/jest-dom

# TypeScript é¡å‹
npm install --save-dev @types/node
```

---

## ğŸš€ Quick Start

```bash
# 1. åˆ‡æ›åˆ°æ–°åˆ†æ”¯
git checkout -b refactor/product-transformation-v2

# 2. å®‰è£ä¾è³´
npm install

# 3. å‰µå»ºæ–°å…ƒä»¶æ¶æ§‹
mkdir -p src/components/{calculator,freedom,visualization,challenges,feedback,psychology,analytics}

# 4. è¤‡è£½ç¾æœ‰å…ƒä»¶ä½œç‚ºåŸºç¤
# ï¼ˆä¿ç•™ onboarding, settings, history ç­‰ç¾æœ‰å…ƒä»¶ï¼‰

# 5. é–‹å§‹é–‹ç™¼ Sprint 0
npm run dev

# 6. æŒçºŒæ¸¬è©¦
npm test
```

---

## âœ… Definition of Doneï¼ˆå®Œæˆå®šç¾©ï¼‰

æ¯å€‹åŠŸèƒ½å¿…é ˆæ»¿è¶³ï¼š

### åŠŸèƒ½é¢
- [ ] æ ¸å¿ƒé‚è¼¯æ­£ç¢ºï¼ˆé€šéæ¸¬è©¦ï¼‰
- [ ] UI åœ¨æ‰‹æ©Ÿä¸Šæ­£å¸¸é¡¯ç¤º
- [ ] å‹•ç•«æµæš¢ï¼ˆ60fpsï¼‰
- [ ] ç„¡ console éŒ¯èª¤

### é«”é©—é¢
- [ ] é¦–æ¬¡ä½¿ç”¨è€…èƒ½ç›´è¦ºæ“ä½œ
- [ ] å›é¥‹å³æ™‚ï¼ˆ< 100msï¼‰
- [ ] è¦–è¦ºå±¤æ¬¡æ¸…æ™°
- [ ] æ–‡æ¡ˆæ˜“æ‡‚ï¼ˆçµ¦éæŠ€è¡“èƒŒæ™¯çš„äººçœ‹ï¼‰

### æŠ€è¡“é¢
- [ ] TypeScript ç„¡éŒ¯èª¤
- [ ] å…ƒä»¶å·²åŠ å…¥æ¸¬è©¦
- [ ] ç¨‹å¼ç¢¼å·² review
- [ ] Git commit message æ¸…æ¥š

---

## ğŸ¨ Design Principlesï¼ˆè¨­è¨ˆåŸå‰‡ï¼‰

### 1. å³æ™‚åé¥‹å„ªå…ˆ
- ä»»ä½•æ“ä½œéƒ½è¦æœ‰ç«‹å³çš„è¦–è¦ºå›é¥‹
- è¨ˆç®—çµæœå³æ™‚æ›´æ–°ï¼ˆä¸éœ€è¦æŒ‰ã€Œè¨ˆç®—ã€æŒ‰éˆ•ï¼‰
- å‹•ç•«è¦å¿«é€Ÿå®Œæˆï¼ˆ0.3-0.7 ç§’ï¼‰

### 2. æƒ…ç·’è¨­è¨ˆ
- æ…¶ç¥è¦èª‡å¼µï¼ˆå½©å¸¶ã€éŸ³æ•ˆã€éœ‡å‹•ï¼‰
- è­¦å‘Šè¦æº«å’Œï¼ˆä¸åš‡äººï¼Œçµ¦å¸Œæœ›ï¼‰
- é¡è‰²è¦æœ‰æ„ç¾©ï¼ˆç´… = å·¥ä½œï¼Œç¶  = è‡ªç”±ï¼‰

### 3. å…·è±¡åŒ–æŠ½è±¡æ¦‚å¿µ
- ä¸èªªã€Œ$50,000ã€â†’ èªªã€Œ2 é€±è–ªæ°´ã€
- ä¸èªªã€Œæå‰ 0.5 å¹´ã€â†’ èªªã€Œæå‰ 6 å€‹æœˆã€
- ä¸èªªã€Œ65 æ­²é€€ä¼‘ã€â†’ ç”¨é›»æ± æ¢é¡¯ç¤º

### 4. æ¼¸é€²å¼æ­éœ²
- ä¸»ç•«é¢åªé¡¯ç¤ºæœ€é—œéµè³‡è¨Š
- è©³ç´°è³‡æ–™æ”¾åœ¨å¯å±•é–‹å€åŸŸ
- é€²éšåŠŸèƒ½æ”¾åœ¨è¨­å®šé 

### 5. è¡Œå‹•å°å‘
- ä¸åªå‘Šè¨´ç¾ç‹€ï¼Œè¦å‘Šè¨´ã€Œæ€éº¼åšã€
- æ¯å€‹å•é¡Œéƒ½æä¾›è§£æ±ºæ–¹æ¡ˆ
- æŒ‰éˆ•è¦æ¸…æ¥šèªªæ˜æœƒç™¼ç”Ÿä»€éº¼

---

## ğŸ› Known Issues to Fixï¼ˆå·²çŸ¥å•é¡Œï¼‰

åœ¨é‡æ§‹éç¨‹ä¸­é †ä¾¿ä¿®å¾©ï¼š

### å¾èˆŠä»£ç¢¼ç¹¼æ‰¿çš„å•é¡Œ
- [ ] Google Sheets åŒæ­¥ç„¡ Loading ç‹€æ…‹
- [ ] ç¶²è·¯éŒ¯èª¤è™•ç†ä¸å®Œæ•´
- [ ] æ·±è‰²æ¨¡å¼åœ¨å¼·å…‰ä¸‹å°æ¯”åº¦ä¸è¶³
- [ ] Slider åœ¨éƒ¨åˆ†å®‰å“æ©Ÿä¸Šå¡é “

### æ–°å¢åŠŸèƒ½éœ€æ³¨æ„
- [ ] æ…¶ç¥å‹•ç•«åœ¨ä½éšæ‰‹æ©Ÿä¸Šå¯èƒ½å¡é “
- [ ] LocalStorage å®¹é‡é™åˆ¶ï¼ˆæ¯æ—¥æŒ‘æˆ°æ•¸æ“šç´¯ç©ï¼‰
- [ ] åœ–è¡¨åœ¨å°è¢å¹•ä¸Šå¯èƒ½æ“æ“ 

---

## ğŸ“ Testing Checklistï¼ˆæ¸¬è©¦æ¸…å–®ï¼‰

### åŠŸèƒ½æ¸¬è©¦
- [ ] è¼¸å…¥é‡‘é¡ â†’ çœ‹åˆ°ç”Ÿå‘½æˆæœ¬
- [ ] æŒ‰ã€Œæˆ‘ä¸è²·äº†ã€â†’ è§¸ç™¼æ…¶ç¥
- [ ] å®ŒæˆæŒ‘æˆ° â†’ è¨˜éŒ„å„²è“„ + æ…¶ç¥
- [ ] è§£é–é‡Œç¨‹ç¢‘ â†’ é¡¯ç¤ºæ­£ç¢º
- [ ] ç”Ÿå‘½é›»æ±  â†’ ä¸‰å€å¡Šæ¯”ä¾‹æ­£ç¢º
- [ ] è¿½è¶•è¨ˆåŠƒ â†’ è¨ˆç®—åˆç†

### é‚Šç•Œæ¸¬è©¦
- [ ] é‡‘é¡ = 0 â†’ ä¸é¡¯ç¤ºè¨ˆç®—çµæœ
- [ ] é‡‘é¡éå¸¸å¤§ï¼ˆ1 å„„ï¼‰â†’ ä¸æº¢ä½
- [ ] æ‰€æœ‰æŒ‘æˆ°å®Œæˆ â†’ é¡¯ç¤ºæ…¶ç¥
- [ ] ç„¡æ¶ˆè²»è¨˜éŒ„ â†’ åœ–è¡¨é¡¯ç¤ºç©ºç‹€æ…‹

### ç›¸å®¹æ€§æ¸¬è©¦
- [ ] iOS Safari
- [ ] Android Chrome
- [ ] æ¡Œé¢ Chrome
- [ ] å°è¢å¹•ï¼ˆiPhone SEï¼‰
- [ ] å¤§è¢å¹•ï¼ˆiPadï¼‰

### æ•ˆèƒ½æ¸¬è©¦
- [ ] æ…¶ç¥å‹•ç•«ä¸å¡é “
- [ ] åœ–è¡¨æ¸²æŸ“ < 1 ç§’
- [ ] é¦–æ¬¡è¼‰å…¥ < 3 ç§’

---

## ğŸ“š Resourcesï¼ˆåƒè€ƒè³‡æºï¼‰

### ç”¢å“è¨­è¨ˆ
- [Hooked: How to Build Habit-Forming Products](https://www.nirandfar.com/hooked/)
- [Don't Make Me Think](https://sensible.com/dont-make-me-think/)
- [The Design of Everyday Things](https://en.wikipedia.org/wiki/The_Design_of_Everyday_Things)

### è¡Œç‚ºç¶“æ¿Ÿå­¸
- [Nudge: Improving Decisions About Health, Wealth, and Happiness](https://en.wikipedia.org/wiki/Nudge_(book))
- [Thinking, Fast and Slow](https://en.wikipedia.org/wiki/Thinking,_Fast_and_Slow)

### FIRE ç¤¾ç¾¤
- [r/financialindependence](https://www.reddit.com/r/financialindependence/)
- [Mr. Money Mustache](https://www.mrmoneymustache.com/)

### æŠ€è¡“æ–‡ä»¶
- [React Hook Form](https://react-hook-form.com/)
- [Recharts Documentation](https://recharts.org/)
- [Tailwind CSS](https://tailwindcss.com/)

---

## ğŸ’¬ User Feedback Collectionï¼ˆç”¨æˆ¶åé¥‹ï¼‰

### é—œéµå•é¡Œï¼ˆæ¸¬è©¦å¾Œè©¢å•ï¼‰
1. ã€Œé€™å€‹ App è®“ä½ å°æ¶ˆè²»æœ‰ä»€éº¼æ–°çš„æƒ³æ³•ï¼Ÿã€
2. ã€Œä½ æœƒåœ¨ä»€éº¼æ™‚å€™æ‰“é–‹é€™å€‹ Appï¼Ÿã€
3. ã€Œçœ‹åˆ°ç”Ÿå‘½æˆæœ¬å¾Œï¼Œä½ çš„æ„Ÿè¦ºæ˜¯ï¼Ÿã€
4. ã€Œä½ æœ‰å› ç‚ºé€™å€‹ App è€Œæ”¾æ£„ä»»ä½•æ¶ˆè²»å—ï¼Ÿã€
5. ã€Œä½ æœƒæ¨è–¦çµ¦æœ‹å‹å—ï¼Ÿç‚ºä»€éº¼ï¼Ÿã€

### æƒ…ç·’æº«åº¦è¨ˆ
- ğŸ˜° ç„¦æ…® / å£“åŠ›
- ğŸ˜ ç„¡æ„Ÿ
- ğŸ¤” æœ‰è¶£ / å¥½å¥‡
- ğŸ’ª æœ‰å‹•åŠ›
- ğŸ‰ èˆˆå¥® / æˆå°±æ„Ÿ

ç›®æ¨™ï¼š80% ç”¨æˆ¶é¸æ“‡ ğŸ’ª æˆ– ğŸ‰

---

## ğŸ”® Future Visionï¼ˆæœªä¾†å±•æœ›ï¼‰

### Phase 4 (3-6 å€‹æœˆå¾Œ)
å¦‚æœ Phase 0-3 æˆåŠŸï¼Œå¯ä»¥è€ƒæ…®ï¼š

- **AI å€‹äººåŒ–å»ºè­°**
  - ã€Œä½ æ¯é€±å’–å•¡èŠ± $600ï¼Œå»ºè­°æ”¹æˆ $300ã€
  - ã€Œä½ çš„æœ€å¤§æ”¯å‡ºæ˜¯å¨›æ¨‚ï¼Œè€ƒæ…®æ¸›å°‘ 20%ã€

- **ç¤¾ç¾¤åŠŸèƒ½**ï¼ˆè¼•é‡ï¼‰
  - çœ‹çœ‹ã€Œå¹´é½¡ç›¸ä»¿çš„äººå¹³å‡è§£é–åˆ°å“ªå€‹é‡Œç¨‹ç¢‘ã€
  - åŒ¿åæ’è¡Œæ¦œï¼ˆéç«¶çˆ­æ€§ï¼‰

- **æ›´å¤šå ´æ™¯æ¨¡æ“¬**
  - è²·æˆ¿ vs ç§Ÿæˆ¿
  - ç”Ÿå°å­©çš„æˆæœ¬
  - ç•™å­¸çš„æ©Ÿæœƒæˆæœ¬

### Phase 5 (1 å¹´å¾Œ)
- éŠ€è¡Œå¸³æˆ¶é€£çµï¼ˆè‡ªå‹•è¨˜å¸³ï¼‰
- æŠ•è³‡å»ºè­°æ•´åˆ
- é€€ä¼‘åœ°é»æˆæœ¬æ¯”è¼ƒ

---

## ğŸ¯ North Star Metricï¼ˆåŒ—æ¥µæ˜ŸæŒ‡æ¨™ï¼‰

**æœ€é‡è¦çš„æŒ‡æ¨™ï¼š**

**ã€Œç”¨æˆ¶å› ç‚º TimeBar è€Œæ”¾æ£„çš„æ¶ˆè²»ç¸½é‡‘é¡ã€**

æ¸¬é‡æ–¹å¼ï¼š
- æ¯æ¬¡æŒ‰ã€Œæˆ‘ä¸è²·äº†ã€è¨˜éŒ„é‡‘é¡
- ç´¯ç©çµ±è¨ˆ
- ç›®æ¨™ï¼šæ¯ç”¨æˆ¶æ¯æœˆå¹³å‡çœä¸‹ > $3,000

é€™å€‹æŒ‡æ¨™ä»£è¡¨ï¼š
1. ç”¨æˆ¶çœŸçš„åœ¨ä½¿ç”¨ï¼ˆé »ç‡ï¼‰
2. App çœŸçš„æœ‰å½±éŸ¿åŠ›ï¼ˆåƒ¹å€¼ï¼‰
3. ç”¢å“é”æˆäº†ç›®æ¨™ï¼ˆæ”¹è®Šè¡Œç‚ºï¼‰

---

## ğŸ“ Support & Communication

### é–‹ç™¼éç¨‹ä¸­çš„æºé€š
- **æ¯æ—¥ç«™æœƒ**ï¼š15 åˆ†é˜åŒæ­¥é€²åº¦
- **Sprint Review**ï¼šæ¯ 2 é€±å±•ç¤ºæˆæœ
- **ç”¨æˆ¶æ¸¬è©¦**ï¼šæ¯å€‹ Sprint çµæŸå¾Œæ‰¾ 5 å€‹äººæ¸¬è©¦

### å•é¡Œå›å ±
- **Critical**ï¼šç«‹å³ä¿®å¾©ï¼ˆåŠŸèƒ½ç„¡æ³•ä½¿ç”¨ï¼‰
- **High**ï¼šç•¶å¤©ä¿®å¾©ï¼ˆé«”é©—åš´é‡å—æï¼‰
- **Medium**ï¼šæœ¬ Sprint ä¿®å¾©ï¼ˆå°å•é¡Œï¼‰
- **Low**ï¼šä¸‹ Sprint è€ƒæ…®ï¼ˆå„ªåŒ–ï¼‰

---

**æœ€å¾Œæ›´æ–°**ï¼š2024-12-29  
**æ–‡ä»¶ç‰ˆæœ¬**ï¼šv2.0 - Product Transformation (No Social/Voice/OCR)  
**ç¶­è­·è€…**ï¼šTimeBar Team

---

## ğŸš€ Let's Transform TimeBar!

**ç›®æ¨™ä¸åªæ˜¯åšä¸€å€‹ã€Œå¥½ç”¨çš„å·¥å…·ã€**  
**è€Œæ˜¯åšä¸€å€‹ã€Œæœƒè®“äººä¸Šç™®çš„ç”¢å“ã€**

**å¾ä»Šå¤©é–‹å§‹ï¼Œæ¯ä¸€è¡Œä»£ç¢¼éƒ½åœ¨å•è‡ªå·±ï¼š**
> ã€Œé€™æœƒè®“ç”¨æˆ¶æ›´æƒ³æ‰“é–‹ App å—ï¼Ÿã€  
> ã€Œé€™æœƒè®“ç”¨æˆ¶æ›´æ¥è¿‘è‡ªç”±å—ï¼Ÿã€  
> ã€Œé€™æœƒå‰µé€ å³æ™‚çš„æˆå°±æ„Ÿå—ï¼Ÿã€

**Let's build something people LOVE to use! ğŸ’° â†’ ğŸ•Šï¸**
